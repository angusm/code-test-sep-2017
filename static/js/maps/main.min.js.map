{"version":3,"sources":["main.min.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","EventEmitter","this","_events","_maxListeners","undefined","isFunction","arg","isNumber","isObject","isUndefined","prototype","defaultMaxListeners","setMaxListeners","isNaN","TypeError","emit","type","er","handler","len","args","listeners","error","arguments","err","context","Array","slice","apply","addListener","listener","m","newListener","push","warned","console","trace","on","once","g","removeListener","fired","list","position","splice","removeAllListeners","key","listenerCount","evlistener","emitter","2","queryString","parse","str","trim","replace","split","reduce","ret","param","parts","val","decodeURIComponent","hasOwnProperty","isArray","stringify","obj","Object","keys","map","val2","encodeURIComponent","join","define","amd","self","3","tryParseJson","data","JSON","timeout","request","abort","Ajax","settings","queryStringData","ajax","url","XMLHttpRequest","method","cors","XDomainRequest","cache","_","Date","getTime","toLowerCase","urlParts","parsedQueryStringData","addEventListener","event","target","responseText","dataType","status","clearTimeout","_requestTimeout","open","withCredentials","contentType","setRequestHeader","requestedWith","auth","headerKey","headers","processData","create","send","setTimeout","events","query-string","4","defineProperty","value","default","freeze","RequestMethod","GET","SimpleAjax","Event","SUCCESS","ERROR","5","_classCallCheck","instance","Constructor","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","props","descriptor","protoProps","staticProps","_get","get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","parent","getPrototypeOf","getter","_map_wrapper","_map_wrapper2","__esModule","DynamicDefaultMap","_MapWrapper","defaultGenerator","_this","defaultGenerator_","generatedDefault","set","./map_wrapper","6","_multi_value_map","_multi_value_map2","DynamicDefaultMultiValueMap","_MultiValueMap","concat","./multi_value_map","7","MapWrapper","map_","Map","clear","delete","entries","callback","forEach","has","values","Symbol","iterator","size","8","_interopRequireDefault","_toConsumableArray","arr","arr2","from","_slicedToArray","sliceIterator","_arr","_n","_d","_e","_s","_i","next","done","_dynamic_default","_dynamic_default2","VALUE_KEY","MultiValueMap","_DynamicDefaultMap","log","getInnerMap_","getValueForMap_","_get$call","_arguments","remainder","nextMap","_slice","_slice2","setValueForMap_","hasForMap_","./dynamic_default","9","_module","_module2","angular","name","./products/module","10","_service","_service2","Controller","products_","getProducts","then","result","./service/service","11","_controller","_controller2","_template","_template2","component","template","controller","./controller","./template","12","getProductsForCache","limit","skip","sort","Promise","resolve","reject","_index2","getFullQueryURL","_constants2","queryParams","getQueryParams","API_ENDPOINT","ParamKeys","LIMIT","SKIP","SORT","filter","_ref","_ref2","keyValue","_dynamic_default_multi_value_map","_dynamic_default_multi_value_map2","_index","_constants","Service","_ref3","../../../../node_modules/simple-ajax/index","../../constants","../../handies/structs/maps/dynamic_default_multi_value_map","../../handies/structs/maps/multi_value_map","13"],"mappings":"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","file":"../main.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n},{}],2:[function(require,module,exports){\n/*!\n\tquery-string\n\tParse and stringify URL query strings\n\thttps://github.com/sindresorhus/query-string\n\tby Sindre Sorhus\n\tMIT License\n*/\n(function () {\n\t'use strict';\n\tvar queryString = {};\n\n\tqueryString.parse = function (str) {\n\t\tif (typeof str !== 'string') {\n\t\t\treturn {};\n\t\t}\n\n\t\tstr = str.trim().replace(/^(\\?|#)/, '');\n\n\t\tif (!str) {\n\t\t\treturn {};\n\t\t}\n\n\t\treturn str.trim().split('&').reduce(function (ret, param) {\n\t\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t\tvar key = parts[0];\n\t\t\tvar val = parts[1];\n\n\t\t\tkey = decodeURIComponent(key);\n\t\t\t// missing `=` should be `null`:\n\t\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\t\tval = val === undefined ? null : decodeURIComponent(val);\n\n\t\t\tif (!ret.hasOwnProperty(key)) {\n\t\t\t\tret[key] = val;\n\t\t\t} else if (Array.isArray(ret[key])) {\n\t\t\t\tret[key].push(val);\n\t\t\t} else {\n\t\t\t\tret[key] = [ret[key], val];\n\t\t\t}\n\n\t\t\treturn ret;\n\t\t}, {});\n\t};\n\n\tqueryString.stringify = function (obj) {\n\t\treturn obj ? Object.keys(obj).map(function (key) {\n\t\t\tvar val = obj[key];\n\n\t\t\tif (Array.isArray(val)) {\n\t\t\t\treturn val.map(function (val2) {\n\t\t\t\t\treturn encodeURIComponent(key) + '=' + encodeURIComponent(val2);\n\t\t\t\t}).join('&');\n\t\t\t}\n\n\t\t\treturn encodeURIComponent(key) + '=' + encodeURIComponent(val);\n\t\t}).join('&') : '';\n\t};\n\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(function() { return queryString; });\n\t} else if (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = queryString;\n\t} else {\n\t\tself.queryString = queryString;\n\t}\n})();\n\n},{}],3:[function(require,module,exports){\nvar EventEmitter = require('events').EventEmitter,\n    queryString = require('query-string');\n\nfunction tryParseJson(data){\n    try{\n        return JSON.parse(data);\n    }catch(error){\n        return error;\n    }\n}\n\nfunction timeout(){\n   this.request.abort();\n   this.emit('timeout');\n}\n\nfunction Ajax(settings){\n    var queryStringData,\n        ajax = this;\n\n    if(typeof settings === 'string'){\n        settings = {\n            url: settings\n        };\n    }\n\n    if(typeof settings !== 'object'){\n        settings = {};\n    }\n\n    ajax.settings = settings;\n    ajax.request = new XMLHttpRequest();\n    ajax.settings.method = ajax.settings.method || 'get';\n\n    if(ajax.settings.cors && !'withCredentials' in ajax.request){\n        if (typeof XDomainRequest !== 'undefined') {\n            // XDomainRequest only exists in IE, and is IE's way of making CORS requests.\n            ajax.request = new XDomainRequest();\n        } else {\n            // Otherwise, CORS is not supported by the browser.\n            ajax.emit('error', new Error('Cors is not supported by this browser'));\n        }\n    }\n\n    if(ajax.settings.cache === false){\n        ajax.settings.data = ajax.settings.data || {};\n        ajax.settings.data._ = new Date().getTime();\n    }\n\n    if(ajax.settings.method.toLowerCase() === 'get' && typeof ajax.settings.data === 'object'){\n        var urlParts = ajax.settings.url.split('?');\n\n        queryStringData = queryString.parse(urlParts[1]);\n\n        for(var key in ajax.settings.data){\n            queryStringData[key] = ajax.settings.data[key];\n        }\n\n        var parsedQueryStringData = queryString.stringify(queryStringData);\n\n        ajax.settings.url = urlParts[0] + (parsedQueryStringData ? '?' + parsedQueryStringData : '');\n        ajax.settings.data = null;\n    }\n\n    ajax.request.addEventListener('progress', function(event){\n        ajax.emit('progress', event);\n    }, false);\n\n    ajax.request.addEventListener('load', function(event){\n        var data = event.target.responseText;\n\n        if(ajax.settings.dataType && ajax.settings.dataType.toLowerCase() === 'json'){\n            if(data === ''){\n                data = undefined;\n            }else{\n                data = tryParseJson(data);\n                if(data instanceof Error){\n                    ajax.emit('error', event, data);\n                    return;\n                }\n            }\n        }\n\n        if(event.target.status >= 400){\n            ajax.emit('error', event, data);\n        } else {\n            ajax.emit('success', event, data);\n        }\n\n    }, false);\n\n    ajax.request.addEventListener('error', function(event){\n        ajax.emit('error', event);\n    }, false);\n\n    ajax.request.addEventListener('abort', function(event){\n        ajax.emit('error', event, new Error('Connection Aborted'));\n        ajax.emit('abort', event);\n    }, false);\n\n    ajax.request.addEventListener('loadend', function(event){\n        clearTimeout(ajax._requestTimeout);\n        ajax.emit('complete', event);\n    }, false);\n\n    ajax.request.open(ajax.settings.method || 'get', ajax.settings.url, true);\n\n    if(ajax.settings.cors && 'withCredentials' in ajax.request) {\n        ajax.request.withCredentials = !!settings.withCredentials;\n    }\n\n    // Set default headers\n    if(ajax.settings.contentType !== false){\n        ajax.request.setRequestHeader('Content-Type', ajax.settings.contentType || 'application/json; charset=utf-8');\n    }\n    if(ajax.settings.requestedWith !== false) {\n        ajax.request.setRequestHeader('X-Requested-With', ajax.settings.requestedWith || 'XMLHttpRequest');\n    }\n    if(ajax.settings.auth){\n        ajax.request.setRequestHeader('Authorization', ajax.settings.auth);\n    }\n\n    // Set custom headers\n    for(var headerKey in ajax.settings.headers){\n        ajax.request.setRequestHeader(headerKey, ajax.settings.headers[headerKey]);\n    }\n\n    if(ajax.settings.processData !== false && ajax.settings.dataType === 'json'){\n        ajax.settings.data = JSON.stringify(ajax.settings.data);\n    }\n}\n\nAjax.prototype = Object.create(EventEmitter.prototype);\n\nAjax.prototype.send = function(){\n    var ajax = this;\n\n    ajax._requestTimeout = setTimeout(\n        function(){\n            timeout.apply(ajax, []);\n        },\n        ajax.settings.timeout || 120000\n    );\n\n    ajax.request.send(ajax.settings.data && ajax.settings.data);\n};\n\nmodule.exports = Ajax;\n\n},{\"events\":1,\"query-string\":2}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = Object.freeze({\n    RequestMethod: {\n        GET: 'GET'\n    },\n    SimpleAjax: {\n        Event: {\n            SUCCESS: 'success',\n            ERROR: 'error'\n        }\n    }\n});\n\n},{}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _map_wrapper = require('./map_wrapper');\n\nvar _map_wrapper2 = _interopRequireDefault(_map_wrapper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DynamicDefaultMap = function (_MapWrapper) {\n    _inherits(DynamicDefaultMap, _MapWrapper);\n\n    function DynamicDefaultMap(defaultGenerator) {\n        _classCallCheck(this, DynamicDefaultMap);\n\n        var _this = _possibleConstructorReturn(this, (DynamicDefaultMap.__proto__ || Object.getPrototypeOf(DynamicDefaultMap)).call(this));\n\n        _this.defaultGenerator_ = defaultGenerator;\n        return _this;\n    }\n\n    _createClass(DynamicDefaultMap, [{\n        key: 'get',\n        value: function get(key) {\n            if (_get(DynamicDefaultMap.prototype.__proto__ || Object.getPrototypeOf(DynamicDefaultMap.prototype), 'has', this).call(this, key)) {\n                return _get(DynamicDefaultMap.prototype.__proto__ || Object.getPrototypeOf(DynamicDefaultMap.prototype), 'get', this).call(this, key);\n            } else {\n                var generatedDefault = this.defaultGenerator_(key);\n                this.set(key, generatedDefault);\n                return generatedDefault;\n            }\n        }\n    }]);\n\n    return DynamicDefaultMap;\n}(_map_wrapper2.default);\n\nexports.default = DynamicDefaultMap;\n\n},{\"./map_wrapper\":7}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _multi_value_map = require('./multi_value_map');\n\nvar _multi_value_map2 = _interopRequireDefault(_multi_value_map);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DynamicDefaultMultiValueMap = function (_MultiValueMap) {\n    _inherits(DynamicDefaultMultiValueMap, _MultiValueMap);\n\n    function DynamicDefaultMultiValueMap(defaultGenerator) {\n        _classCallCheck(this, DynamicDefaultMultiValueMap);\n\n        var _this = _possibleConstructorReturn(this, (DynamicDefaultMultiValueMap.__proto__ || Object.getPrototypeOf(DynamicDefaultMultiValueMap)).call(this));\n\n        _this.defaultGenerator_ = defaultGenerator;\n        return _this;\n    }\n\n    _createClass(DynamicDefaultMultiValueMap, [{\n        key: 'get',\n        value: function get() {\n            if (_get(DynamicDefaultMultiValueMap.prototype.__proto__ || Object.getPrototypeOf(DynamicDefaultMultiValueMap.prototype), 'has', this).apply(this, arguments)) {\n                return _get(DynamicDefaultMultiValueMap.prototype.__proto__ || Object.getPrototypeOf(DynamicDefaultMultiValueMap.prototype), 'get', this).apply(this, arguments);\n            } else {\n                var generatedDefault = this.defaultGenerator_.apply(this, arguments);\n                this.set.apply(this, Array.prototype.slice.call(arguments).concat([generatedDefault]));\n                return generatedDefault;\n            }\n        }\n    }]);\n\n    return DynamicDefaultMultiValueMap;\n}(_multi_value_map2.default);\n\nexports.default = DynamicDefaultMultiValueMap;\n\n},{\"./multi_value_map\":8}],7:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MapWrapper = function () {\n    function MapWrapper() {\n        _classCallCheck(this, MapWrapper);\n\n        this.map_ = new Map();\n    }\n\n    _createClass(MapWrapper, [{\n        key: \"clear\",\n        value: function clear() {\n            return this.map_.clear.apply(this, arguments);\n        }\n    }, {\n        key: \"delete\",\n        value: function _delete(key) {\n            return this.map_.delete(key);\n        }\n    }, {\n        key: \"entries\",\n        value: function entries() {\n            return this.map_.entries.apply(this, arguments);\n        }\n    }, {\n        key: \"forEach\",\n        value: function forEach(callback) {\n            return this.map_.forEach(callback);\n        }\n    }, {\n        key: \"get\",\n        value: function get(key) {\n            return this.map_.get(key);\n        }\n    }, {\n        key: \"has\",\n        value: function has(key) {\n            return this.map_.has(key);\n        }\n    }, {\n        key: \"keys\",\n        value: function keys() {\n            return this.map_.keys.apply(this, arguments);\n        }\n    }, {\n        key: \"set\",\n        value: function set(key, value) {\n            return this.map_.set(key, value);\n        }\n    }, {\n        key: \"values\",\n        value: function values() {\n            return this.map_.values.apply(this, arguments);\n        }\n    }, {\n        key: Symbol.iterator,\n        value: function value() {\n            return this.map_[Symbol.iterator].apply(this, arguments);\n        }\n    }, {\n        key: \"size\",\n        get: function get() {\n            return this.map_.size;\n        }\n    }]);\n\n    return MapWrapper;\n}();\n\nexports.default = MapWrapper;\n\n},{}],8:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _dynamic_default = require('./dynamic_default');\n\nvar _dynamic_default2 = _interopRequireDefault(_dynamic_default);\n\nvar _map_wrapper = require('./map_wrapper');\n\nvar _map_wrapper2 = _interopRequireDefault(_map_wrapper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar VALUE_KEY = Symbol('Key for values in MultiValueMap');\n\nvar MultiValueMap = function (_DynamicDefaultMap) {\n    _inherits(MultiValueMap, _DynamicDefaultMap);\n\n    function MultiValueMap() {\n        _classCallCheck(this, MultiValueMap);\n\n        return _possibleConstructorReturn(this, (MultiValueMap.__proto__ || Object.getPrototypeOf(MultiValueMap)).call(this, function () {\n            return new MultiValueMap();\n        }));\n    }\n\n    _createClass(MultiValueMap, [{\n        key: 'get',\n        value: function get() {\n            console.log('Raw get call', arguments);\n            if (this.has.apply(this, arguments)) {\n                return this.getInnerMap_.apply(this, arguments).getValueForMap_();\n            } else {\n                return undefined;\n            }\n        }\n\n        /**\n         * Return the inner map, up until the point where the VALUE_KEY should be\n         * used to return the value at that level of values.\n         * @private\n         */\n\n    }, {\n        key: 'getInnerMap_',\n        value: function getInnerMap_() {\n            console.log({ 'args': arguments });\n            if (!arguments.length) {\n                console.log('Got to inner most map');\n                return this;\n            } else {\n                var _get$call;\n\n                var _arguments = Array.prototype.slice.call(arguments),\n                    key = _arguments[0],\n                    remainder = _arguments.slice(1);\n\n                console.log({ key: key, remainder: remainder, 'a': this });\n                var nextMap = _get(MultiValueMap.prototype.__proto__ || Object.getPrototypeOf(MultiValueMap.prototype), 'get', this).call(this, key);\n                console.log('Next map', nextMap);\n                return (_get$call = _get(MultiValueMap.prototype.__proto__ || Object.getPrototypeOf(MultiValueMap.prototype), 'get', this).call(this, key)).getInnerMap_.apply(_get$call, _toConsumableArray(remainder));\n            }\n        }\n    }, {\n        key: 'setValueForMap_',\n        value: function setValueForMap_(value) {\n            return _get(MultiValueMap.prototype.__proto__ || Object.getPrototypeOf(MultiValueMap.prototype), 'set', this).call(this, VALUE_KEY, value);\n        }\n    }, {\n        key: 'hasForMap_',\n        value: function hasForMap_() {\n            return _get(MultiValueMap.prototype.__proto__ || Object.getPrototypeOf(MultiValueMap.prototype), 'has', this).call(this, VALUE_KEY);\n        }\n    }, {\n        key: 'getValueForMap_',\n        value: function getValueForMap_() {\n            return _get(MultiValueMap.prototype.__proto__ || Object.getPrototypeOf(MultiValueMap.prototype), 'get', this).call(this, VALUE_KEY);\n        }\n    }, {\n        key: 'set',\n        value: function set() {\n            // Short circuit if there is only one key and the key is VALUE_KEY\n            var args = [].concat(Array.prototype.slice.call(arguments));\n\n            var _slice = [].concat(Array.prototype.slice.call(arguments)).slice(-1),\n                _slice2 = _slicedToArray(_slice, 1),\n                value = _slice2[0];\n\n            var keys = args.slice(0, -1);\n            if (args.length === 2) {\n                var key = keys[0];\n                if (!_get(MultiValueMap.prototype.__proto__ || Object.getPrototypeOf(MultiValueMap.prototype), 'has', this).call(this, key)) {\n                    _get(MultiValueMap.prototype.__proto__ || Object.getPrototypeOf(MultiValueMap.prototype), 'set', this).call(this, key, new MultiValueMap());\n                }\n                _get(MultiValueMap.prototype.__proto__ || Object.getPrototypeOf(MultiValueMap.prototype), 'get', this).call(this, key).setValueForMap_(value);\n            } else {\n                return this.getInnerMap_.apply(this, _toConsumableArray(keys)).setValueForMap_(value);\n            }\n        }\n    }, {\n        key: 'has',\n        value: function has() {\n            return this.getInnerMap_.apply(this, arguments).hasForMap_();\n        }\n    }]);\n\n    return MultiValueMap;\n}(_dynamic_default2.default);\n\nexports.default = MultiValueMap;\n\n},{\"./dynamic_default\":5,\"./map_wrapper\":7}],9:[function(require,module,exports){\n'use strict';\n\nvar _module = require('./products/module');\n\nvar _module2 = _interopRequireDefault(_module);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nangular.module('discountAsciiWarehouse', [_module2.default.name]);\n\n},{\"./products/module\":11}],10:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _service = require('./service/service');\n\nvar _service2 = _interopRequireDefault(_service);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Controller = function () {\n    function Controller() {\n        _classCallCheck(this, Controller);\n\n        this.products_ = [];\n    }\n\n    _createClass(Controller, [{\n        key: '$onInit',\n        value: function $onInit() {\n            _service2.default.getProducts().then(function (result) {\n                console.log(result);\n            });\n        }\n    }]);\n\n    return Controller;\n}();\n\nexports.default = Controller;\n\n},{\"./service/service\":12}],11:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _controller = require('./controller');\n\nvar _controller2 = _interopRequireDefault(_controller);\n\nvar _template = require('./template');\n\nvar _template2 = _interopRequireDefault(_template);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _module = angular.module('discountAsciiWarehouseProducts', []);\n\n_module.component('products', {\n    template: _template2.default,\n    controller: _controller2.default\n});\n\nexports.default = _module;\n\n},{\"./controller\":10,\"./template\":13}],12:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _multi_value_map = require('../../handies/structs/maps/multi_value_map');\n\nvar _multi_value_map2 = _interopRequireDefault(_multi_value_map);\n\nvar _dynamic_default_multi_value_map = require('../../handies/structs/maps/dynamic_default_multi_value_map');\n\nvar _dynamic_default_multi_value_map2 = _interopRequireDefault(_dynamic_default_multi_value_map);\n\nvar _index = require('../../../../node_modules/simple-ajax/index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _constants = require('../../constants');\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar cache = new _dynamic_default_multi_value_map2.default(getProductsForCache);\nvar ParamKeys = Object.freeze({\n    LIMIT: 'limit',\n    SKIP: 'skip',\n    SORT: 'sort'\n});\nvar API_ENDPOINT = '/api/products';\n\nfunction getProductsForCache() {\n    var limit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var skip = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var sort = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n    return new Promise(function (resolve, reject) {\n        var request = new _index2.default({\n            url: getFullQueryURL(limit, skip, sort),\n            method: 'GET'\n        });\n        request.on(_constants2.default.SimpleAjax.Event.SUCCESS, function (event) {\n            console.log(event);\n            resolve(event);\n        });\n        request.on(_constants2.default.SimpleAjax.Event.ERROR, function (event) {\n            console.log(event);\n            reject(event);\n        });\n    });\n}\n\nfunction getFullQueryURL() {\n    var limit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var skip = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var sort = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n    var queryParams = getQueryParams(limit, skip, sort);\n    if (queryParams) {\n        return API_ENDPOINT + '?' + queryParams;\n    } else {\n        return API_ENDPOINT;\n    }\n}\n\nfunction getQueryParams() {\n    var limit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var skip = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var sort = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n    var params = [[ParamKeys.LIMIT, limit], [ParamKeys.SKIP, skip], [ParamKeys.SORT, sort]];\n    var filteredParams = params.filter(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            key = _ref2[0],\n            value = _ref2[1];\n\n        return !!value;\n    });\n    return filteredParams.map(function (keyValue) {\n        return keyValue.join('=');\n    }).join('&');\n}\n\nvar Service = function () {\n    function Service() {\n        _classCallCheck(this, Service);\n    }\n\n    _createClass(Service, null, [{\n        key: 'getProducts',\n\n        /**\r\n         * @param {?number} limit The maximum number of entries to return, or null\r\n         *     for no limit.\r\n         * @param {?number} skip The number of entries to skip before returning the\r\n         *     result set, or null to start from the beginning.\r\n         * @param {?string} sort The field to sort on, or null to avoid sorting.\r\n         */\n        value: function getProducts() {\n            var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                _ref3$limit = _ref3.limit,\n                limit = _ref3$limit === undefined ? null : _ref3$limit,\n                _ref3$skip = _ref3.skip,\n                skip = _ref3$skip === undefined ? null : _ref3$skip,\n                _ref3$sort = _ref3.sort,\n                sort = _ref3$sort === undefined ? null : _ref3$sort;\n\n            console.log(new _multi_value_map2.default().get(1, 2, 3));\n            return [1, 2, 3];\n            // return cache.get(limit, skip, sort);\n        }\n    }]);\n\n    return Service;\n}();\n\nexports.default = Service;\n\n},{\"../../../../node_modules/simple-ajax/index\":3,\"../../constants\":4,\"../../handies/structs/maps/dynamic_default_multi_value_map\":6,\"../../handies/structs/maps/multi_value_map\":8}],13:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar template = \"\\n<h1>Hello World</h1>\\n\";\n\nexports.default = template;\n\n},{}]},{},[9])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qcyIsIm5vZGVfbW9kdWxlcy9xdWVyeS1zdHJpbmcvcXVlcnktc3RyaW5nLmpzIiwibm9kZV9tb2R1bGVzL3NpbXBsZS1hamF4L2luZGV4LmpzIiwic3JjXFxqc1xcY29uc3RhbnRzLmpzIiwic3JjXFxqc1xcaGFuZGllc1xcc3RydWN0c1xcbWFwc1xcZHluYW1pY19kZWZhdWx0LmpzIiwic3JjXFxqc1xcaGFuZGllc1xcc3RydWN0c1xcbWFwc1xcZHluYW1pY19kZWZhdWx0X211bHRpX3ZhbHVlX21hcC5qcyIsInNyY1xcanNcXGhhbmRpZXNcXHN0cnVjdHNcXG1hcHNcXG1hcF93cmFwcGVyLmpzIiwic3JjXFxqc1xcaGFuZGllc1xcc3RydWN0c1xcbWFwc1xcbXVsdGlfdmFsdWVfbWFwLmpzIiwic3JjXFxqc1xcbWFpbi5qcyIsInNyY1xcanNcXHByb2R1Y3RzXFxjb250cm9sbGVyLmpzIiwic3JjXFxqc1xccHJvZHVjdHNcXG1vZHVsZS5qcyIsInNyY1xcanNcXHByb2R1Y3RzXFxzZXJ2aWNlXFxzZXJ2aWNlLmpzIiwic3JjXFxqc1xccHJvZHVjdHNcXHRlbXBsYXRlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QWMsR0FBZCxDQUFkO0FBQUEsS0FBbkIsRUFBcUQsSUFBckQsQ0FBMEQsR0FBMUQsQ0FBUDtBQUNIOztJQUVLLE87Ozs7Ozs7O0FBQ0Y7Ozs7Ozs7c0NBT2tFO0FBQUEsNEZBQUosRUFBSTtBQUFBLG9DQUE5QyxLQUE4QztBQUFBLGdCQUE5QyxLQUE4QywrQkFBdEMsSUFBc0M7QUFBQSxtQ0FBaEMsSUFBZ0M7QUFBQSxnQkFBaEMsSUFBZ0MsOEJBQXpCLElBQXlCO0FBQUEsbUNBQW5CLElBQW1CO0FBQUEsZ0JBQW5CLElBQW1CLDhCQUFaLElBQVk7O0FBQzlELG9CQUFRLEdBQVIsQ0FBWSxnQ0FBb0IsR0FBcEIsQ0FBd0IsQ0FBeEIsRUFBMEIsQ0FBMUIsRUFBNEIsQ0FBNUIsQ0FBWjtBQUNBLG1CQUFPLENBQUMsQ0FBRCxFQUFHLENBQUgsRUFBSyxDQUFMLENBQVA7QUFDQTtBQUNIOzs7Ozs7a0JBR1UsTzs7Ozs7Ozs7QUNqRWYsSUFBTSxxQ0FBTjs7a0JBSWUsUSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICB0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcblxuLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC4xMC54XG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG5cbi8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW4gMTAgbGlzdGVuZXJzIGFyZVxuLy8gYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaCBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cbkV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XG5cbi8vIE9idmlvdXNseSBub3QgYWxsIEVtaXR0ZXJzIHNob3VsZCBiZSBsaW1pdGVkIHRvIDEwLiBUaGlzIGZ1bmN0aW9uIGFsbG93c1xuLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uKG4pIHtcbiAgaWYgKCFpc051bWJlcihuKSB8fCBuIDwgMCB8fCBpc05hTihuKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ24gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcicpO1xuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIGVyLCBoYW5kbGVyLCBsZW4sIGFyZ3MsIGksIGxpc3RlbmVycztcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmICh0eXBlID09PSAnZXJyb3InKSB7XG4gICAgaWYgKCF0aGlzLl9ldmVudHMuZXJyb3IgfHxcbiAgICAgICAgKGlzT2JqZWN0KHRoaXMuX2V2ZW50cy5lcnJvcikgJiYgIXRoaXMuX2V2ZW50cy5lcnJvci5sZW5ndGgpKSB7XG4gICAgICBlciA9IGFyZ3VtZW50c1sxXTtcbiAgICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQXQgbGVhc3QgZ2l2ZSBzb21lIGtpbmQgb2YgY29udGV4dCB0byB0aGUgdXNlclxuICAgICAgICB2YXIgZXJyID0gbmV3IEVycm9yKCdVbmNhdWdodCwgdW5zcGVjaWZpZWQgXCJlcnJvclwiIGV2ZW50LiAoJyArIGVyICsgJyknKTtcbiAgICAgICAgZXJyLmNvbnRleHQgPSBlcjtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgaWYgKGlzVW5kZWZpbmVkKGhhbmRsZXIpKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgLy8gZmFzdCBjYXNlc1xuICAgICAgY2FzZSAxOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAyOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gc2xvd2VyXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgaGFuZGxlci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QoaGFuZGxlcikpIHtcbiAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICBsaXN0ZW5lcnMgPSBoYW5kbGVyLnNsaWNlKCk7XG4gICAgbGVuID0gbGlzdGVuZXJzLmxlbmd0aDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspXG4gICAgICBsaXN0ZW5lcnNbaV0uYXBwbHkodGhpcywgYXJncyk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgbTtcblxuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgdGhpcy5fZXZlbnRzID0ge307XG5cbiAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICBpZiAodGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyKVxuICAgIHRoaXMuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLFxuICAgICAgICAgICAgICBpc0Z1bmN0aW9uKGxpc3RlbmVyLmxpc3RlbmVyKSA/XG4gICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyIDogbGlzdGVuZXIpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIC8vIE9wdGltaXplIHRoZSBjYXNlIG9mIG9uZSBsaXN0ZW5lci4gRG9uJ3QgbmVlZCB0aGUgZXh0cmEgYXJyYXkgb2JqZWN0LlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xuICBlbHNlIGlmIChpc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pKVxuICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGFycmF5LCBqdXN0IGFwcGVuZC5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2VcbiAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBbdGhpcy5fZXZlbnRzW3R5cGVdLCBsaXN0ZW5lcl07XG5cbiAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgaWYgKGlzT2JqZWN0KHRoaXMuX2V2ZW50c1t0eXBlXSkgJiYgIXRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQpIHtcbiAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuX21heExpc3RlbmVycykpIHtcbiAgICAgIG0gPSB0aGlzLl9tYXhMaXN0ZW5lcnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIG0gPSBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycztcbiAgICB9XG5cbiAgICBpZiAobSAmJiBtID4gMCAmJiB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoID4gbSkge1xuICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCA9IHRydWU7XG4gICAgICBjb25zb2xlLmVycm9yKCcobm9kZSkgd2FybmluZzogcG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2xlYWsgZGV0ZWN0ZWQuICVkIGxpc3RlbmVycyBhZGRlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICdVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC4nLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoKTtcbiAgICAgIGlmICh0eXBlb2YgY29uc29sZS50cmFjZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBub3Qgc3VwcG9ydGVkIGluIElFIDEwXG4gICAgICAgIGNvbnNvbGUudHJhY2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgdmFyIGZpcmVkID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gZygpIHtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGcpO1xuXG4gICAgaWYgKCFmaXJlZCkge1xuICAgICAgZmlyZWQgPSB0cnVlO1xuICAgICAgbGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH1cblxuICBnLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHRoaXMub24odHlwZSwgZyk7XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBlbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWZmIHRoZSBsaXN0ZW5lciB3YXMgcmVtb3ZlZFxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBsaXN0LCBwb3NpdGlvbiwgbGVuZ3RoLCBpO1xuXG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIGxpc3QgPSB0aGlzLl9ldmVudHNbdHlwZV07XG4gIGxlbmd0aCA9IGxpc3QubGVuZ3RoO1xuICBwb3NpdGlvbiA9IC0xO1xuXG4gIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fFxuICAgICAgKGlzRnVuY3Rpb24obGlzdC5saXN0ZW5lcikgJiYgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICBpZiAodGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTtcblxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KGxpc3QpKSB7XG4gICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gPiAwOykge1xuICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8XG4gICAgICAgICAgKGxpc3RbaV0ubGlzdGVuZXIgJiYgbGlzdFtpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgICAgIHBvc2l0aW9uID0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHBvc2l0aW9uIDwgMClcbiAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgaWYgKGxpc3QubGVuZ3RoID09PSAxKSB7XG4gICAgICBsaXN0Lmxlbmd0aCA9IDA7XG4gICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIH0gZWxzZSB7XG4gICAgICBsaXN0LnNwbGljZShwb3NpdGlvbiwgMSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0ZW5lcik7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIga2V5LCBsaXN0ZW5lcnM7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgcmV0dXJuIHRoaXM7XG5cbiAgLy8gbm90IGxpc3RlbmluZyBmb3IgcmVtb3ZlTGlzdGVuZXIsIG5vIG5lZWQgdG8gZW1pdFxuICBpZiAoIXRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcikge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKVxuICAgICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgZWxzZSBpZiAodGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50c1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIGZvciAoa2V5IGluIHRoaXMuX2V2ZW50cykge1xuICAgICAgaWYgKGtleSA9PT0gJ3JlbW92ZUxpc3RlbmVyJykgY29udGludWU7XG4gICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhrZXkpO1xuICAgIH1cbiAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygncmVtb3ZlTGlzdGVuZXInKTtcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICBpZiAoaXNGdW5jdGlvbihsaXN0ZW5lcnMpKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICB9IGVsc2UgaWYgKGxpc3RlbmVycykge1xuICAgIC8vIExJRk8gb3JkZXJcbiAgICB3aGlsZSAobGlzdGVuZXJzLmxlbmd0aClcbiAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2xpc3RlbmVycy5sZW5ndGggLSAxXSk7XG4gIH1cbiAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIgcmV0O1xuICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIHJldCA9IFtdO1xuICBlbHNlIGlmIChpc0Z1bmN0aW9uKHRoaXMuX2V2ZW50c1t0eXBlXSkpXG4gICAgcmV0ID0gW3RoaXMuX2V2ZW50c1t0eXBlXV07XG4gIGVsc2VcbiAgICByZXQgPSB0aGlzLl9ldmVudHNbdHlwZV0uc2xpY2UoKTtcbiAgcmV0dXJuIHJldDtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgaWYgKHRoaXMuX2V2ZW50cykge1xuICAgIHZhciBldmxpc3RlbmVyID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gICAgaWYgKGlzRnVuY3Rpb24oZXZsaXN0ZW5lcikpXG4gICAgICByZXR1cm4gMTtcbiAgICBlbHNlIGlmIChldmxpc3RlbmVyKVxuICAgICAgcmV0dXJuIGV2bGlzdGVuZXIubGVuZ3RoO1xuICB9XG4gIHJldHVybiAwO1xufTtcblxuRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbihlbWl0dGVyLCB0eXBlKSB7XG4gIHJldHVybiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSk7XG59O1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cblxuZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09PSB2b2lkIDA7XG59XG4iLCIvKiFcblx0cXVlcnktc3RyaW5nXG5cdFBhcnNlIGFuZCBzdHJpbmdpZnkgVVJMIHF1ZXJ5IHN0cmluZ3Ncblx0aHR0cHM6Ly9naXRodWIuY29tL3NpbmRyZXNvcmh1cy9xdWVyeS1zdHJpbmdcblx0YnkgU2luZHJlIFNvcmh1c1xuXHRNSVQgTGljZW5zZVxuKi9cbihmdW5jdGlvbiAoKSB7XG5cdCd1c2Ugc3RyaWN0Jztcblx0dmFyIHF1ZXJ5U3RyaW5nID0ge307XG5cblx0cXVlcnlTdHJpbmcucGFyc2UgPSBmdW5jdGlvbiAoc3RyKSB7XG5cdFx0aWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnKSB7XG5cdFx0XHRyZXR1cm4ge307XG5cdFx0fVxuXG5cdFx0c3RyID0gc3RyLnRyaW0oKS5yZXBsYWNlKC9eKFxcP3wjKS8sICcnKTtcblxuXHRcdGlmICghc3RyKSB7XG5cdFx0XHRyZXR1cm4ge307XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHN0ci50cmltKCkuc3BsaXQoJyYnKS5yZWR1Y2UoZnVuY3Rpb24gKHJldCwgcGFyYW0pIHtcblx0XHRcdHZhciBwYXJ0cyA9IHBhcmFtLnJlcGxhY2UoL1xcKy9nLCAnICcpLnNwbGl0KCc9Jyk7XG5cdFx0XHR2YXIga2V5ID0gcGFydHNbMF07XG5cdFx0XHR2YXIgdmFsID0gcGFydHNbMV07XG5cblx0XHRcdGtleSA9IGRlY29kZVVSSUNvbXBvbmVudChrZXkpO1xuXHRcdFx0Ly8gbWlzc2luZyBgPWAgc2hvdWxkIGJlIGBudWxsYDpcblx0XHRcdC8vIGh0dHA6Ly93My5vcmcvVFIvMjAxMi9XRC11cmwtMjAxMjA1MjQvI2NvbGxlY3QtdXJsLXBhcmFtZXRlcnNcblx0XHRcdHZhbCA9IHZhbCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGRlY29kZVVSSUNvbXBvbmVudCh2YWwpO1xuXG5cdFx0XHRpZiAoIXJldC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG5cdFx0XHRcdHJldFtrZXldID0gdmFsO1xuXHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHJldFtrZXldKSkge1xuXHRcdFx0XHRyZXRba2V5XS5wdXNoKHZhbCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXRba2V5XSA9IFtyZXRba2V5XSwgdmFsXTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9LCB7fSk7XG5cdH07XG5cblx0cXVlcnlTdHJpbmcuc3RyaW5naWZ5ID0gZnVuY3Rpb24gKG9iaikge1xuXHRcdHJldHVybiBvYmogPyBPYmplY3Qua2V5cyhvYmopLm1hcChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0XHR2YXIgdmFsID0gb2JqW2tleV07XG5cblx0XHRcdGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHtcblx0XHRcdFx0cmV0dXJuIHZhbC5tYXAoZnVuY3Rpb24gKHZhbDIpIHtcblx0XHRcdFx0XHRyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsMik7XG5cdFx0XHRcdH0pLmpvaW4oJyYnKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChrZXkpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbCk7XG5cdFx0fSkuam9pbignJicpIDogJyc7XG5cdH07XG5cblx0aWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuXHRcdGRlZmluZShmdW5jdGlvbigpIHsgcmV0dXJuIHF1ZXJ5U3RyaW5nOyB9KTtcblx0fSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRcdG1vZHVsZS5leHBvcnRzID0gcXVlcnlTdHJpbmc7XG5cdH0gZWxzZSB7XG5cdFx0c2VsZi5xdWVyeVN0cmluZyA9IHF1ZXJ5U3RyaW5nO1xuXHR9XG59KSgpO1xuIiwidmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcixcbiAgICBxdWVyeVN0cmluZyA9IHJlcXVpcmUoJ3F1ZXJ5LXN0cmluZycpO1xuXG5mdW5jdGlvbiB0cnlQYXJzZUpzb24oZGF0YSl7XG4gICAgdHJ5e1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShkYXRhKTtcbiAgICB9Y2F0Y2goZXJyb3Ipe1xuICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB0aW1lb3V0KCl7XG4gICB0aGlzLnJlcXVlc3QuYWJvcnQoKTtcbiAgIHRoaXMuZW1pdCgndGltZW91dCcpO1xufVxuXG5mdW5jdGlvbiBBamF4KHNldHRpbmdzKXtcbiAgICB2YXIgcXVlcnlTdHJpbmdEYXRhLFxuICAgICAgICBhamF4ID0gdGhpcztcblxuICAgIGlmKHR5cGVvZiBzZXR0aW5ncyA9PT0gJ3N0cmluZycpe1xuICAgICAgICBzZXR0aW5ncyA9IHtcbiAgICAgICAgICAgIHVybDogc2V0dGluZ3NcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBpZih0eXBlb2Ygc2V0dGluZ3MgIT09ICdvYmplY3QnKXtcbiAgICAgICAgc2V0dGluZ3MgPSB7fTtcbiAgICB9XG5cbiAgICBhamF4LnNldHRpbmdzID0gc2V0dGluZ3M7XG4gICAgYWpheC5yZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgYWpheC5zZXR0aW5ncy5tZXRob2QgPSBhamF4LnNldHRpbmdzLm1ldGhvZCB8fCAnZ2V0JztcblxuICAgIGlmKGFqYXguc2V0dGluZ3MuY29ycyAmJiAhJ3dpdGhDcmVkZW50aWFscycgaW4gYWpheC5yZXF1ZXN0KXtcbiAgICAgICAgaWYgKHR5cGVvZiBYRG9tYWluUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIC8vIFhEb21haW5SZXF1ZXN0IG9ubHkgZXhpc3RzIGluIElFLCBhbmQgaXMgSUUncyB3YXkgb2YgbWFraW5nIENPUlMgcmVxdWVzdHMuXG4gICAgICAgICAgICBhamF4LnJlcXVlc3QgPSBuZXcgWERvbWFpblJlcXVlc3QoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgQ09SUyBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBicm93c2VyLlxuICAgICAgICAgICAgYWpheC5lbWl0KCdlcnJvcicsIG5ldyBFcnJvcignQ29ycyBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgYnJvd3NlcicpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmKGFqYXguc2V0dGluZ3MuY2FjaGUgPT09IGZhbHNlKXtcbiAgICAgICAgYWpheC5zZXR0aW5ncy5kYXRhID0gYWpheC5zZXR0aW5ncy5kYXRhIHx8IHt9O1xuICAgICAgICBhamF4LnNldHRpbmdzLmRhdGEuXyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIH1cblxuICAgIGlmKGFqYXguc2V0dGluZ3MubWV0aG9kLnRvTG93ZXJDYXNlKCkgPT09ICdnZXQnICYmIHR5cGVvZiBhamF4LnNldHRpbmdzLmRhdGEgPT09ICdvYmplY3QnKXtcbiAgICAgICAgdmFyIHVybFBhcnRzID0gYWpheC5zZXR0aW5ncy51cmwuc3BsaXQoJz8nKTtcblxuICAgICAgICBxdWVyeVN0cmluZ0RhdGEgPSBxdWVyeVN0cmluZy5wYXJzZSh1cmxQYXJ0c1sxXSk7XG5cbiAgICAgICAgZm9yKHZhciBrZXkgaW4gYWpheC5zZXR0aW5ncy5kYXRhKXtcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nRGF0YVtrZXldID0gYWpheC5zZXR0aW5ncy5kYXRhW2tleV07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcGFyc2VkUXVlcnlTdHJpbmdEYXRhID0gcXVlcnlTdHJpbmcuc3RyaW5naWZ5KHF1ZXJ5U3RyaW5nRGF0YSk7XG5cbiAgICAgICAgYWpheC5zZXR0aW5ncy51cmwgPSB1cmxQYXJ0c1swXSArIChwYXJzZWRRdWVyeVN0cmluZ0RhdGEgPyAnPycgKyBwYXJzZWRRdWVyeVN0cmluZ0RhdGEgOiAnJyk7XG4gICAgICAgIGFqYXguc2V0dGluZ3MuZGF0YSA9IG51bGw7XG4gICAgfVxuXG4gICAgYWpheC5yZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICBhamF4LmVtaXQoJ3Byb2dyZXNzJywgZXZlbnQpO1xuICAgIH0sIGZhbHNlKTtcblxuICAgIGFqYXgucmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICB2YXIgZGF0YSA9IGV2ZW50LnRhcmdldC5yZXNwb25zZVRleHQ7XG5cbiAgICAgICAgaWYoYWpheC5zZXR0aW5ncy5kYXRhVHlwZSAmJiBhamF4LnNldHRpbmdzLmRhdGFUeXBlLnRvTG93ZXJDYXNlKCkgPT09ICdqc29uJyl7XG4gICAgICAgICAgICBpZihkYXRhID09PSAnJyl7XG4gICAgICAgICAgICAgICAgZGF0YSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGRhdGEgPSB0cnlQYXJzZUpzb24oZGF0YSk7XG4gICAgICAgICAgICAgICAgaWYoZGF0YSBpbnN0YW5jZW9mIEVycm9yKXtcbiAgICAgICAgICAgICAgICAgICAgYWpheC5lbWl0KCdlcnJvcicsIGV2ZW50LCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmKGV2ZW50LnRhcmdldC5zdGF0dXMgPj0gNDAwKXtcbiAgICAgICAgICAgIGFqYXguZW1pdCgnZXJyb3InLCBldmVudCwgZGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhamF4LmVtaXQoJ3N1Y2Nlc3MnLCBldmVudCwgZGF0YSk7XG4gICAgICAgIH1cblxuICAgIH0sIGZhbHNlKTtcblxuICAgIGFqYXgucmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgYWpheC5lbWl0KCdlcnJvcicsIGV2ZW50KTtcbiAgICB9LCBmYWxzZSk7XG5cbiAgICBhamF4LnJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBmdW5jdGlvbihldmVudCl7XG4gICAgICAgIGFqYXguZW1pdCgnZXJyb3InLCBldmVudCwgbmV3IEVycm9yKCdDb25uZWN0aW9uIEFib3J0ZWQnKSk7XG4gICAgICAgIGFqYXguZW1pdCgnYWJvcnQnLCBldmVudCk7XG4gICAgfSwgZmFsc2UpO1xuXG4gICAgYWpheC5yZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlbmQnLCBmdW5jdGlvbihldmVudCl7XG4gICAgICAgIGNsZWFyVGltZW91dChhamF4Ll9yZXF1ZXN0VGltZW91dCk7XG4gICAgICAgIGFqYXguZW1pdCgnY29tcGxldGUnLCBldmVudCk7XG4gICAgfSwgZmFsc2UpO1xuXG4gICAgYWpheC5yZXF1ZXN0Lm9wZW4oYWpheC5zZXR0aW5ncy5tZXRob2QgfHwgJ2dldCcsIGFqYXguc2V0dGluZ3MudXJsLCB0cnVlKTtcblxuICAgIGlmKGFqYXguc2V0dGluZ3MuY29ycyAmJiAnd2l0aENyZWRlbnRpYWxzJyBpbiBhamF4LnJlcXVlc3QpIHtcbiAgICAgICAgYWpheC5yZXF1ZXN0LndpdGhDcmVkZW50aWFscyA9ICEhc2V0dGluZ3Mud2l0aENyZWRlbnRpYWxzO1xuICAgIH1cblxuICAgIC8vIFNldCBkZWZhdWx0IGhlYWRlcnNcbiAgICBpZihhamF4LnNldHRpbmdzLmNvbnRlbnRUeXBlICE9PSBmYWxzZSl7XG4gICAgICAgIGFqYXgucmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCBhamF4LnNldHRpbmdzLmNvbnRlbnRUeXBlIHx8ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04Jyk7XG4gICAgfVxuICAgIGlmKGFqYXguc2V0dGluZ3MucmVxdWVzdGVkV2l0aCAhPT0gZmFsc2UpIHtcbiAgICAgICAgYWpheC5yZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ1gtUmVxdWVzdGVkLVdpdGgnLCBhamF4LnNldHRpbmdzLnJlcXVlc3RlZFdpdGggfHwgJ1hNTEh0dHBSZXF1ZXN0Jyk7XG4gICAgfVxuICAgIGlmKGFqYXguc2V0dGluZ3MuYXV0aCl7XG4gICAgICAgIGFqYXgucmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKCdBdXRob3JpemF0aW9uJywgYWpheC5zZXR0aW5ncy5hdXRoKTtcbiAgICB9XG5cbiAgICAvLyBTZXQgY3VzdG9tIGhlYWRlcnNcbiAgICBmb3IodmFyIGhlYWRlcktleSBpbiBhamF4LnNldHRpbmdzLmhlYWRlcnMpe1xuICAgICAgICBhamF4LnJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcihoZWFkZXJLZXksIGFqYXguc2V0dGluZ3MuaGVhZGVyc1toZWFkZXJLZXldKTtcbiAgICB9XG5cbiAgICBpZihhamF4LnNldHRpbmdzLnByb2Nlc3NEYXRhICE9PSBmYWxzZSAmJiBhamF4LnNldHRpbmdzLmRhdGFUeXBlID09PSAnanNvbicpe1xuICAgICAgICBhamF4LnNldHRpbmdzLmRhdGEgPSBKU09OLnN0cmluZ2lmeShhamF4LnNldHRpbmdzLmRhdGEpO1xuICAgIH1cbn1cblxuQWpheC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEV2ZW50RW1pdHRlci5wcm90b3R5cGUpO1xuXG5BamF4LnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgYWpheCA9IHRoaXM7XG5cbiAgICBhamF4Ll9yZXF1ZXN0VGltZW91dCA9IHNldFRpbWVvdXQoXG4gICAgICAgIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB0aW1lb3V0LmFwcGx5KGFqYXgsIFtdKTtcbiAgICAgICAgfSxcbiAgICAgICAgYWpheC5zZXR0aW5ncy50aW1lb3V0IHx8IDEyMDAwMFxuICAgICk7XG5cbiAgICBhamF4LnJlcXVlc3Quc2VuZChhamF4LnNldHRpbmdzLmRhdGEgJiYgYWpheC5zZXR0aW5ncy5kYXRhKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQWpheDtcbiIsImV4cG9ydCBkZWZhdWx0IE9iamVjdC5mcmVlemUoe1xyXG4gICAgUmVxdWVzdE1ldGhvZDoge1xyXG4gICAgICAgIEdFVDogJ0dFVCcsXHJcbiAgICB9LFxyXG4gICAgU2ltcGxlQWpheDoge1xyXG4gICAgICAgIEV2ZW50OiB7XHJcbiAgICAgICAgICAgIFNVQ0NFU1M6ICdzdWNjZXNzJyxcclxuICAgICAgICAgICAgRVJST1I6ICdlcnJvcicsXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KTtcclxuIiwiaW1wb3J0IE1hcFdyYXBwZXIgZnJvbSAnLi9tYXBfd3JhcHBlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIER5bmFtaWNEZWZhdWx0TWFwIGV4dGVuZHMgTWFwV3JhcHBlciB7XG4gICAgY29uc3RydWN0b3IoZGVmYXVsdEdlbmVyYXRvcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmRlZmF1bHRHZW5lcmF0b3JfID0gZGVmYXVsdEdlbmVyYXRvcjtcbiAgICB9XG5cbiAgICBnZXQoa2V5KSB7XG4gICAgICAgIGlmIChzdXBlci5oYXMoa2V5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmdldChrZXkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGdlbmVyYXRlZERlZmF1bHQgPSB0aGlzLmRlZmF1bHRHZW5lcmF0b3JfKGtleSk7XG4gICAgICAgICAgICB0aGlzLnNldChrZXksIGdlbmVyYXRlZERlZmF1bHQpO1xuICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlZERlZmF1bHQ7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgTXVsdGlWYWx1ZU1hcCBmcm9tICcuL211bHRpX3ZhbHVlX21hcCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIER5bmFtaWNEZWZhdWx0TXVsdGlWYWx1ZU1hcCBleHRlbmRzIE11bHRpVmFsdWVNYXAge1xuICAgIGNvbnN0cnVjdG9yKGRlZmF1bHRHZW5lcmF0b3IpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5kZWZhdWx0R2VuZXJhdG9yXyA9IGRlZmF1bHRHZW5lcmF0b3I7XG4gICAgfVxuXG4gICAgZ2V0KCkge1xuICAgICAgICBpZiAoc3VwZXIuaGFzKC4uLmFyZ3VtZW50cykpIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5nZXQoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGdlbmVyYXRlZERlZmF1bHQgPSB0aGlzLmRlZmF1bHRHZW5lcmF0b3JfKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgICAgICB0aGlzLnNldCguLi5hcmd1bWVudHMsIGdlbmVyYXRlZERlZmF1bHQpO1xuICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlZERlZmF1bHQ7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJjbGFzcyBNYXBXcmFwcGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5tYXBfID0gbmV3IE1hcCgpO1xuICAgIH1cblxuICAgIGdldCBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXBfLnNpemU7XG4gICAgfVxuXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcF8uY2xlYXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICBkZWxldGUoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcF8uZGVsZXRlKGtleSk7XG4gICAgfVxuXG4gICAgZW50cmllcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwXy5lbnRyaWVzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgZm9yRWFjaChjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXBfLmZvckVhY2goY2FsbGJhY2spO1xuICAgIH1cblxuICAgIGdldChrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwXy5nZXQoa2V5KTtcbiAgICB9XG5cbiAgICBoYXMoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcF8uaGFzKGtleSk7XG4gICAgfVxuXG4gICAga2V5cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwXy5rZXlzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwXy5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgdmFsdWVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXBfLnZhbHVlcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXBfW1N5bWJvbC5pdGVyYXRvcl0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1hcFdyYXBwZXI7XG4iLCJpbXBvcnQgRHluYW1pY0RlZmF1bHRNYXAgZnJvbSAnLi9keW5hbWljX2RlZmF1bHQnO1xuaW1wb3J0IE1hcFdyYXBwZXIgZnJvbSAnLi9tYXBfd3JhcHBlcic7XG5cbmNvbnN0IFZBTFVFX0tFWSA9IFN5bWJvbCgnS2V5IGZvciB2YWx1ZXMgaW4gTXVsdGlWYWx1ZU1hcCcpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNdWx0aVZhbHVlTWFwIGV4dGVuZHMgRHluYW1pY0RlZmF1bHRNYXAge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigoKSA9PiBuZXcgTXVsdGlWYWx1ZU1hcCgpKTtcbiAgICB9XG5cbiAgICBnZXQoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdSYXcgZ2V0IGNhbGwnLCBhcmd1bWVudHMpO1xuICAgICAgICBpZiAodGhpcy5oYXMoLi4uYXJndW1lbnRzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5uZXJNYXBfKC4uLmFyZ3VtZW50cykuZ2V0VmFsdWVGb3JNYXBfKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBpbm5lciBtYXAsIHVwIHVudGlsIHRoZSBwb2ludCB3aGVyZSB0aGUgVkFMVUVfS0VZIHNob3VsZCBiZVxuICAgICAqIHVzZWQgdG8gcmV0dXJuIHRoZSB2YWx1ZSBhdCB0aGF0IGxldmVsIG9mIHZhbHVlcy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGdldElubmVyTWFwXygpIHtcbiAgICAgICAgY29uc29sZS5sb2coeydhcmdzJzphcmd1bWVudHN9KTtcbiAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnR290IHRvIGlubmVyIG1vc3QgbWFwJyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IFtrZXksIC4uLnJlbWFpbmRlcl0gPSBhcmd1bWVudHM7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh7a2V5LCByZW1haW5kZXIsICdhJzp0aGlzfSk7XG4gICAgICAgICAgICBjb25zdCBuZXh0TWFwID0gc3VwZXIuZ2V0KGtleSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTmV4dCBtYXAnLCBuZXh0TWFwKTtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5nZXQoa2V5KS5nZXRJbm5lck1hcF8oLi4ucmVtYWluZGVyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldFZhbHVlRm9yTWFwXyh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gc3VwZXIuc2V0KFZBTFVFX0tFWSwgdmFsdWUpO1xuICAgIH1cblxuICAgIGhhc0Zvck1hcF8oKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5oYXMoVkFMVUVfS0VZKTtcbiAgICB9XG5cbiAgICBnZXRWYWx1ZUZvck1hcF8oKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5nZXQoVkFMVUVfS0VZKTtcbiAgICB9XG5cbiAgICBzZXQoKSB7XG4gICAgICAgIC8vIFNob3J0IGNpcmN1aXQgaWYgdGhlcmUgaXMgb25seSBvbmUga2V5IGFuZCB0aGUga2V5IGlzIFZBTFVFX0tFWVxuICAgICAgICBjb25zdCBhcmdzID0gWy4uLmFyZ3VtZW50c107XG4gICAgICAgIGNvbnN0IFt2YWx1ZV0gPSBbLi4uYXJndW1lbnRzXS5zbGljZSgtMSk7XG4gICAgICAgIGNvbnN0IGtleXMgPSBhcmdzLnNsaWNlKDAsIC0xKTtcbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBrZXlzWzBdO1xuICAgICAgICAgICAgaWYgKCFzdXBlci5oYXMoa2V5KSkge1xuICAgICAgICAgICAgICAgIHN1cGVyLnNldChrZXksIG5ldyBNdWx0aVZhbHVlTWFwKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3VwZXIuZ2V0KGtleSkuc2V0VmFsdWVGb3JNYXBfKHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldElubmVyTWFwXyguLi5rZXlzKS5zZXRWYWx1ZUZvck1hcF8odmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRJbm5lck1hcF8oLi4uYXJndW1lbnRzKS5oYXNGb3JNYXBfKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHByb2R1Y3RzTW9kdWxlIGZyb20gJy4vcHJvZHVjdHMvbW9kdWxlJztcclxuXHJcbmFuZ3VsYXIubW9kdWxlKCdkaXNjb3VudEFzY2lpV2FyZWhvdXNlJywgW1xyXG4gICAgcHJvZHVjdHNNb2R1bGUubmFtZSxcclxuXSk7IiwiaW1wb3J0IFByb2R1Y3RzU2VydmljZSBmcm9tICcuL3NlcnZpY2Uvc2VydmljZSc7XHJcblxyXG5jbGFzcyBDb250cm9sbGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMucHJvZHVjdHNfID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgJG9uSW5pdCgpIHtcclxuICAgICAgICBQcm9kdWN0c1NlcnZpY2UuZ2V0UHJvZHVjdHMoKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ29udHJvbGxlcjtcclxuIiwiaW1wb3J0IENvbnRyb2xsZXIgZnJvbSAnLi9jb250cm9sbGVyJztcclxuaW1wb3J0IHRlbXBsYXRlIGZyb20gJy4vdGVtcGxhdGUnO1xyXG5cclxuY29uc3QgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Rpc2NvdW50QXNjaWlXYXJlaG91c2VQcm9kdWN0cycsIFtdKTtcclxuXHJcbm1vZHVsZS5jb21wb25lbnQoJ3Byb2R1Y3RzJywge1xyXG4gICAgdGVtcGxhdGU6IHRlbXBsYXRlLFxyXG4gICAgY29udHJvbGxlcjogQ29udHJvbGxlcixcclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBtb2R1bGU7XHJcbiIsImltcG9ydCBNdWx0aVZhbHVlTWFwIGZyb20gJy4uLy4uL2hhbmRpZXMvc3RydWN0cy9tYXBzL211bHRpX3ZhbHVlX21hcCc7XHJcbmltcG9ydCBEeW5hbWljRGVmYXVsdE11bHRpVmFsdWVNYXAgZnJvbSAnLi4vLi4vaGFuZGllcy9zdHJ1Y3RzL21hcHMvZHluYW1pY19kZWZhdWx0X211bHRpX3ZhbHVlX21hcCc7XHJcbmltcG9ydCBTaW1wbGVBamF4IGZyb20gJy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zaW1wbGUtYWpheC9pbmRleCc7XHJcbmltcG9ydCBjb25zdGFudHMgZnJvbSAnLi4vLi4vY29uc3RhbnRzJztcclxuXHJcbmNvbnN0IGNhY2hlID0gbmV3IER5bmFtaWNEZWZhdWx0TXVsdGlWYWx1ZU1hcChnZXRQcm9kdWN0c0ZvckNhY2hlKTtcclxuY29uc3QgUGFyYW1LZXlzID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICBMSU1JVDogJ2xpbWl0JyxcclxuICAgIFNLSVA6ICdza2lwJyxcclxuICAgIFNPUlQ6ICdzb3J0JyxcclxufSk7XHJcbmNvbnN0IEFQSV9FTkRQT0lOVCA9ICcvYXBpL3Byb2R1Y3RzJztcclxuXHJcbmZ1bmN0aW9uIGdldFByb2R1Y3RzRm9yQ2FjaGUobGltaXQgPSBudWxsLCBza2lwID0gbnVsbCwgc29ydCA9IG51bGwpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBTaW1wbGVBamF4KHtcclxuICAgICAgICAgICAgdXJsOiBnZXRGdWxsUXVlcnlVUkwobGltaXQsIHNraXAsIHNvcnQpLFxyXG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJlcXVlc3Qub24oY29uc3RhbnRzLlNpbXBsZUFqYXguRXZlbnQuU1VDQ0VTUywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGV2ZW50KTtcclxuICAgICAgICAgICAgcmVzb2x2ZShldmVudCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmVxdWVzdC5vbihjb25zdGFudHMuU2ltcGxlQWpheC5FdmVudC5FUlJPUiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGV2ZW50KTtcclxuICAgICAgICAgICAgcmVqZWN0KGV2ZW50KTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gZ2V0RnVsbFF1ZXJ5VVJMKGxpbWl0ID0gbnVsbCwgc2tpcCA9IG51bGwsIHNvcnQgPSBudWxsKSB7XHJcbiAgICBjb25zdCBxdWVyeVBhcmFtcyA9IGdldFF1ZXJ5UGFyYW1zKGxpbWl0LCBza2lwLCBzb3J0KTtcclxuICAgIGlmIChxdWVyeVBhcmFtcykge1xyXG4gICAgICAgIHJldHVybiBgJHtBUElfRU5EUE9JTlR9PyR7cXVlcnlQYXJhbXN9YDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIEFQSV9FTkRQT0lOVDtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0UXVlcnlQYXJhbXMobGltaXQgPSBudWxsLCBza2lwID0gbnVsbCwgc29ydCA9IG51bGwpIHtcclxuICAgIGNvbnN0IHBhcmFtcyA9IFtcclxuICAgICAgICBbUGFyYW1LZXlzLkxJTUlULCBsaW1pdF0sXHJcbiAgICAgICAgW1BhcmFtS2V5cy5TS0lQLCBza2lwXSxcclxuICAgICAgICBbUGFyYW1LZXlzLlNPUlQsIHNvcnRdLFxyXG4gICAgXTtcclxuICAgIGNvbnN0IGZpbHRlcmVkUGFyYW1zID0gcGFyYW1zLmZpbHRlcigoW2tleSwgdmFsdWVdKSA9PiAhIXZhbHVlKTtcclxuICAgIHJldHVybiBmaWx0ZXJlZFBhcmFtcy5tYXAoKGtleVZhbHVlKSA9PiBrZXlWYWx1ZS5qb2luKCc9JykpLmpvaW4oJyYnKTtcclxufVxyXG5cclxuY2xhc3MgU2VydmljZSB7XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB7P251bWJlcn0gbGltaXQgVGhlIG1heGltdW0gbnVtYmVyIG9mIGVudHJpZXMgdG8gcmV0dXJuLCBvciBudWxsXHJcbiAgICAgKiAgICAgZm9yIG5vIGxpbWl0LlxyXG4gICAgICogQHBhcmFtIHs/bnVtYmVyfSBza2lwIFRoZSBudW1iZXIgb2YgZW50cmllcyB0byBza2lwIGJlZm9yZSByZXR1cm5pbmcgdGhlXHJcbiAgICAgKiAgICAgcmVzdWx0IHNldCwgb3IgbnVsbCB0byBzdGFydCBmcm9tIHRoZSBiZWdpbm5pbmcuXHJcbiAgICAgKiBAcGFyYW0gez9zdHJpbmd9IHNvcnQgVGhlIGZpZWxkIHRvIHNvcnQgb24sIG9yIG51bGwgdG8gYXZvaWQgc29ydGluZy5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGdldFByb2R1Y3RzKHtsaW1pdCA9IG51bGwsIHNraXAgPSBudWxsLCBzb3J0ID0gbnVsbH0gPSB7fSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKG5ldyBNdWx0aVZhbHVlTWFwKCkuZ2V0KDEsMiwzKSk7XHJcbiAgICAgICAgcmV0dXJuIFsxLDIsM107XHJcbiAgICAgICAgLy8gcmV0dXJuIGNhY2hlLmdldChsaW1pdCwgc2tpcCwgc29ydCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNlcnZpY2U7XHJcbiIsImNvbnN0IHRlbXBsYXRlID0gYFxyXG48aDE+SGVsbG8gV29ybGQ8L2gxPlxyXG5gO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgdGVtcGxhdGU7XHJcbiJdfQ==\n"]}