{"version":3,"sources":["main.min.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","EventEmitter","this","_events","_maxListeners","undefined","isFunction","arg","isNumber","isObject","isUndefined","prototype","defaultMaxListeners","setMaxListeners","isNaN","TypeError","emit","type","er","handler","len","args","listeners","error","arguments","err","context","Array","slice","apply","addListener","listener","m","newListener","push","warned","console","trace","on","once","g","removeListener","fired","list","position","splice","removeAllListeners","key","listenerCount","evlistener","emitter","2","queryString","parse","str","trim","replace","split","reduce","ret","param","parts","val","decodeURIComponent","hasOwnProperty","isArray","stringify","obj","Object","keys","map","val2","encodeURIComponent","join","define","amd","self","3","tryParseJson","data","JSON","timeout","request","abort","Ajax","settings","queryStringData","ajax","url","XMLHttpRequest","method","cors","XDomainRequest","cache","_","Date","getTime","toLowerCase","urlParts","parsedQueryStringData","addEventListener","event","target","responseText","dataType","status","clearTimeout","_requestTimeout","open","withCredentials","contentType","setRequestHeader","requestedWith","auth","headerKey","headers","processData","create","send","setTimeout","events","query-string","4","defineProperty","value","default","freeze","RequestMethod","GET","SimpleAjax","Event","SUCCESS","ERROR","5","_classCallCheck","instance","Constructor","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","props","descriptor","protoProps","staticProps","_get","get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","parent","getPrototypeOf","getter","_map_wrapper","_map_wrapper2","__esModule","DynamicDefaultMap","_MapWrapper","defaultGenerator","_this","defaultGenerator_","generatedDefault","set","./map_wrapper","6","_toConsumableArray","arr","arr2","from","_multi_value_map","_multi_value_map2","DynamicDefaultMultiValueMap","_MultiValueMap","dynamicDefaultMultiValueMapGenerator_","_get2","concat","_get3","./multi_value_map","7","MapWrapper","map_","Map","clear","delete","entries","callback","forEach","has","values","Symbol","iterator","size","8","_interopRequireDefault","_slicedToArray","sliceIterator","_arr","_n","_d","_e","_s","_i","next","done","_dynamic_default","_dynamic_default2","VALUE_KEY","MultiValueMap","_DynamicDefaultMap","innerMap","isInnerMap_","_ref","nextKey","remainder","_get$call","_ref2","_remainder$slice","_remainder$slice2","isInnerMap","isSpecialKey","_get$call2","_ref3","_get$call3","./dynamic_default","9","_module","_module2","angular","name","./products/module","10","_service","_service2","ProductGroup","products","products_","Controller","$scope","productGroups_","ngScope_","$inject","getProducts","limit","then","result","$digest","productGroups","./service/service","11","advertisement","getAdvertisement","./service","12","_controller","_controller2","_template","_template2","component","template","controller","./controller","./template","13","previousValue","AdvertisementService","getNextValue_","generatedValue","Math","floor","random","nextValue","14","15","_module3","_module4","_module5","./inline-advertisement/module","./product/module","16","product","getProduct","face","font-size","price","toFixed","date","17","bindings","18","19","getProductsForCache","skip","sort","Promise","resolve","reject","_index2","getFullQueryURL","_constants2","rawResponse","response","responseLines","validResponseLines","filter","line","parsedResponseLines","responseLine","queryParams","getQueryParams","API_ENDPOINT","ParamKeys","LIMIT","SKIP","SORT","keyValue","_dynamic_default_multi_value_map","_dynamic_default_multi_value_map2","_index","_constants","Service","_ref3$limit","_ref3$skip","_ref3$sort","../../../../node_modules/simple-ajax/index","../../constants","../../handies/structs/maps/dynamic_default_multi_value_map","../../handies/structs/maps/multi_value_map","20"],"mappings":"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","file":"../main.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n},{}],2:[function(require,module,exports){\n/*!\n\tquery-string\n\tParse and stringify URL query strings\n\thttps://github.com/sindresorhus/query-string\n\tby Sindre Sorhus\n\tMIT License\n*/\n(function () {\n\t'use strict';\n\tvar queryString = {};\n\n\tqueryString.parse = function (str) {\n\t\tif (typeof str !== 'string') {\n\t\t\treturn {};\n\t\t}\n\n\t\tstr = str.trim().replace(/^(\\?|#)/, '');\n\n\t\tif (!str) {\n\t\t\treturn {};\n\t\t}\n\n\t\treturn str.trim().split('&').reduce(function (ret, param) {\n\t\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t\tvar key = parts[0];\n\t\t\tvar val = parts[1];\n\n\t\t\tkey = decodeURIComponent(key);\n\t\t\t// missing `=` should be `null`:\n\t\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\t\tval = val === undefined ? null : decodeURIComponent(val);\n\n\t\t\tif (!ret.hasOwnProperty(key)) {\n\t\t\t\tret[key] = val;\n\t\t\t} else if (Array.isArray(ret[key])) {\n\t\t\t\tret[key].push(val);\n\t\t\t} else {\n\t\t\t\tret[key] = [ret[key], val];\n\t\t\t}\n\n\t\t\treturn ret;\n\t\t}, {});\n\t};\n\n\tqueryString.stringify = function (obj) {\n\t\treturn obj ? Object.keys(obj).map(function (key) {\n\t\t\tvar val = obj[key];\n\n\t\t\tif (Array.isArray(val)) {\n\t\t\t\treturn val.map(function (val2) {\n\t\t\t\t\treturn encodeURIComponent(key) + '=' + encodeURIComponent(val2);\n\t\t\t\t}).join('&');\n\t\t\t}\n\n\t\t\treturn encodeURIComponent(key) + '=' + encodeURIComponent(val);\n\t\t}).join('&') : '';\n\t};\n\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(function() { return queryString; });\n\t} else if (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = queryString;\n\t} else {\n\t\tself.queryString = queryString;\n\t}\n})();\n\n},{}],3:[function(require,module,exports){\nvar EventEmitter = require('events').EventEmitter,\n    queryString = require('query-string');\n\nfunction tryParseJson(data){\n    try{\n        return JSON.parse(data);\n    }catch(error){\n        return error;\n    }\n}\n\nfunction timeout(){\n   this.request.abort();\n   this.emit('timeout');\n}\n\nfunction Ajax(settings){\n    var queryStringData,\n        ajax = this;\n\n    if(typeof settings === 'string'){\n        settings = {\n            url: settings\n        };\n    }\n\n    if(typeof settings !== 'object'){\n        settings = {};\n    }\n\n    ajax.settings = settings;\n    ajax.request = new XMLHttpRequest();\n    ajax.settings.method = ajax.settings.method || 'get';\n\n    if(ajax.settings.cors && !'withCredentials' in ajax.request){\n        if (typeof XDomainRequest !== 'undefined') {\n            // XDomainRequest only exists in IE, and is IE's way of making CORS requests.\n            ajax.request = new XDomainRequest();\n        } else {\n            // Otherwise, CORS is not supported by the browser.\n            ajax.emit('error', new Error('Cors is not supported by this browser'));\n        }\n    }\n\n    if(ajax.settings.cache === false){\n        ajax.settings.data = ajax.settings.data || {};\n        ajax.settings.data._ = new Date().getTime();\n    }\n\n    if(ajax.settings.method.toLowerCase() === 'get' && typeof ajax.settings.data === 'object'){\n        var urlParts = ajax.settings.url.split('?');\n\n        queryStringData = queryString.parse(urlParts[1]);\n\n        for(var key in ajax.settings.data){\n            queryStringData[key] = ajax.settings.data[key];\n        }\n\n        var parsedQueryStringData = queryString.stringify(queryStringData);\n\n        ajax.settings.url = urlParts[0] + (parsedQueryStringData ? '?' + parsedQueryStringData : '');\n        ajax.settings.data = null;\n    }\n\n    ajax.request.addEventListener('progress', function(event){\n        ajax.emit('progress', event);\n    }, false);\n\n    ajax.request.addEventListener('load', function(event){\n        var data = event.target.responseText;\n\n        if(ajax.settings.dataType && ajax.settings.dataType.toLowerCase() === 'json'){\n            if(data === ''){\n                data = undefined;\n            }else{\n                data = tryParseJson(data);\n                if(data instanceof Error){\n                    ajax.emit('error', event, data);\n                    return;\n                }\n            }\n        }\n\n        if(event.target.status >= 400){\n            ajax.emit('error', event, data);\n        } else {\n            ajax.emit('success', event, data);\n        }\n\n    }, false);\n\n    ajax.request.addEventListener('error', function(event){\n        ajax.emit('error', event);\n    }, false);\n\n    ajax.request.addEventListener('abort', function(event){\n        ajax.emit('error', event, new Error('Connection Aborted'));\n        ajax.emit('abort', event);\n    }, false);\n\n    ajax.request.addEventListener('loadend', function(event){\n        clearTimeout(ajax._requestTimeout);\n        ajax.emit('complete', event);\n    }, false);\n\n    ajax.request.open(ajax.settings.method || 'get', ajax.settings.url, true);\n\n    if(ajax.settings.cors && 'withCredentials' in ajax.request) {\n        ajax.request.withCredentials = !!settings.withCredentials;\n    }\n\n    // Set default headers\n    if(ajax.settings.contentType !== false){\n        ajax.request.setRequestHeader('Content-Type', ajax.settings.contentType || 'application/json; charset=utf-8');\n    }\n    if(ajax.settings.requestedWith !== false) {\n        ajax.request.setRequestHeader('X-Requested-With', ajax.settings.requestedWith || 'XMLHttpRequest');\n    }\n    if(ajax.settings.auth){\n        ajax.request.setRequestHeader('Authorization', ajax.settings.auth);\n    }\n\n    // Set custom headers\n    for(var headerKey in ajax.settings.headers){\n        ajax.request.setRequestHeader(headerKey, ajax.settings.headers[headerKey]);\n    }\n\n    if(ajax.settings.processData !== false && ajax.settings.dataType === 'json'){\n        ajax.settings.data = JSON.stringify(ajax.settings.data);\n    }\n}\n\nAjax.prototype = Object.create(EventEmitter.prototype);\n\nAjax.prototype.send = function(){\n    var ajax = this;\n\n    ajax._requestTimeout = setTimeout(\n        function(){\n            timeout.apply(ajax, []);\n        },\n        ajax.settings.timeout || 120000\n    );\n\n    ajax.request.send(ajax.settings.data && ajax.settings.data);\n};\n\nmodule.exports = Ajax;\n\n},{\"events\":1,\"query-string\":2}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = Object.freeze({\n    RequestMethod: {\n        GET: 'GET'\n    },\n    SimpleAjax: {\n        Event: {\n            SUCCESS: 'success',\n            ERROR: 'error'\n        }\n    }\n});\n\n},{}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _map_wrapper = require('./map_wrapper');\n\nvar _map_wrapper2 = _interopRequireDefault(_map_wrapper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DynamicDefaultMap = function (_MapWrapper) {\n    _inherits(DynamicDefaultMap, _MapWrapper);\n\n    function DynamicDefaultMap(defaultGenerator) {\n        _classCallCheck(this, DynamicDefaultMap);\n\n        var _this = _possibleConstructorReturn(this, (DynamicDefaultMap.__proto__ || Object.getPrototypeOf(DynamicDefaultMap)).call(this));\n\n        _this.defaultGenerator_ = defaultGenerator;\n        return _this;\n    }\n\n    _createClass(DynamicDefaultMap, [{\n        key: 'get',\n        value: function get(key) {\n            if (_get(DynamicDefaultMap.prototype.__proto__ || Object.getPrototypeOf(DynamicDefaultMap.prototype), 'has', this).call(this, key)) {\n                return _get(DynamicDefaultMap.prototype.__proto__ || Object.getPrototypeOf(DynamicDefaultMap.prototype), 'get', this).call(this, key);\n            } else {\n                var generatedDefault = this.defaultGenerator_(key);\n                this.set(key, generatedDefault);\n                return generatedDefault;\n            }\n        }\n    }]);\n\n    return DynamicDefaultMap;\n}(_map_wrapper2.default);\n\nexports.default = DynamicDefaultMap;\n\n},{\"./map_wrapper\":7}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _multi_value_map = require('./multi_value_map');\n\nvar _multi_value_map2 = _interopRequireDefault(_multi_value_map);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DynamicDefaultMultiValueMap = function (_MultiValueMap) {\n    _inherits(DynamicDefaultMultiValueMap, _MultiValueMap);\n\n    function DynamicDefaultMultiValueMap(defaultGenerator) {\n        _classCallCheck(this, DynamicDefaultMultiValueMap);\n\n        var _this = _possibleConstructorReturn(this, (DynamicDefaultMultiValueMap.__proto__ || Object.getPrototypeOf(DynamicDefaultMultiValueMap)).call(this));\n\n        _this.dynamicDefaultMultiValueMapGenerator_ = defaultGenerator;\n        return _this;\n    }\n\n    _createClass(DynamicDefaultMultiValueMap, [{\n        key: 'get',\n        value: function get() {\n            var _get2;\n\n            var args = [].concat(Array.prototype.slice.call(arguments));\n            if ((_get2 = _get(DynamicDefaultMultiValueMap.prototype.__proto__ || Object.getPrototypeOf(DynamicDefaultMultiValueMap.prototype), 'has', this)).call.apply(_get2, [this].concat(_toConsumableArray(args)))) {\n                var _get3;\n\n                return (_get3 = _get(DynamicDefaultMultiValueMap.prototype.__proto__ || Object.getPrototypeOf(DynamicDefaultMultiValueMap.prototype), 'get', this)).call.apply(_get3, [this].concat(_toConsumableArray(args)));\n            } else {\n                var generatedDefault = this.dynamicDefaultMultiValueMapGenerator_.apply(this, _toConsumableArray(args));\n                this.set.apply(this, _toConsumableArray(args).concat([generatedDefault]));\n                return generatedDefault;\n            }\n        }\n    }]);\n\n    return DynamicDefaultMultiValueMap;\n}(_multi_value_map2.default);\n\nexports.default = DynamicDefaultMultiValueMap;\n\n},{\"./multi_value_map\":8}],7:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MapWrapper = function () {\n    function MapWrapper() {\n        _classCallCheck(this, MapWrapper);\n\n        this.map_ = new Map();\n    }\n\n    _createClass(MapWrapper, [{\n        key: \"clear\",\n        value: function clear() {\n            return this.map_.clear.apply(this, arguments);\n        }\n    }, {\n        key: \"delete\",\n        value: function _delete(key) {\n            return this.map_.delete(key);\n        }\n    }, {\n        key: \"entries\",\n        value: function entries() {\n            return this.map_.entries.apply(this, arguments);\n        }\n    }, {\n        key: \"forEach\",\n        value: function forEach(callback) {\n            return this.map_.forEach(callback);\n        }\n    }, {\n        key: \"get\",\n        value: function get(key) {\n            return this.map_.get(key);\n        }\n    }, {\n        key: \"has\",\n        value: function has(key) {\n            return this.map_.has(key);\n        }\n    }, {\n        key: \"keys\",\n        value: function keys() {\n            return this.map_.keys.apply(this, arguments);\n        }\n    }, {\n        key: \"set\",\n        value: function set(key, value) {\n            return this.map_.set(key, value);\n        }\n    }, {\n        key: \"values\",\n        value: function values() {\n            return this.map_.values.apply(this, arguments);\n        }\n    }, {\n        key: Symbol.iterator,\n        value: function value() {\n            return this.map_[Symbol.iterator].apply(this, arguments);\n        }\n    }, {\n        key: \"size\",\n        get: function get() {\n            return this.map_.size;\n        }\n    }]);\n\n    return MapWrapper;\n}();\n\nexports.default = MapWrapper;\n\n},{}],8:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _dynamic_default = require('./dynamic_default');\n\nvar _dynamic_default2 = _interopRequireDefault(_dynamic_default);\n\nvar _map_wrapper = require('./map_wrapper');\n\nvar _map_wrapper2 = _interopRequireDefault(_map_wrapper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar VALUE_KEY = Symbol('Key for values in MultiValueMap');\n\nvar MultiValueMap = function (_DynamicDefaultMap) {\n    _inherits(MultiValueMap, _DynamicDefaultMap);\n\n    function MultiValueMap() {\n        var innerMap = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n        _classCallCheck(this, MultiValueMap);\n\n        var _this = _possibleConstructorReturn(this, (MultiValueMap.__proto__ || Object.getPrototypeOf(MultiValueMap)).call(this, function () {\n            return new MultiValueMap(true);\n        }));\n\n        _this.isInnerMap_ = innerMap;\n        return _this;\n    }\n\n    _createClass(MultiValueMap, [{\n        key: 'get',\n        value: function get() {\n            var _ref = [].concat(Array.prototype.slice.call(arguments)),\n                nextKey = _ref[0],\n                remainder = _ref.slice(1);\n\n            if (!arguments.length) {\n                if (_get(MultiValueMap.prototype.__proto__ || Object.getPrototypeOf(MultiValueMap.prototype), 'has', this).call(this, VALUE_KEY)) {\n                    return _get(MultiValueMap.prototype.__proto__ || Object.getPrototypeOf(MultiValueMap.prototype), 'get', this).call(this, VALUE_KEY);\n                } else {\n                    return undefined;\n                }\n            } else {\n                var _get$call;\n\n                return (_get$call = _get(MultiValueMap.prototype.__proto__ || Object.getPrototypeOf(MultiValueMap.prototype), 'get', this).call(this, nextKey)).get.apply(_get$call, _toConsumableArray(remainder));\n            }\n        }\n    }, {\n        key: 'set',\n        value: function set() {\n            var _ref2 = [].concat(Array.prototype.slice.call(arguments)),\n                nextKey = _ref2[0],\n                remainder = _ref2.slice(1);\n\n            var _remainder$slice = remainder.slice(-1),\n                _remainder$slice2 = _slicedToArray(_remainder$slice, 1),\n                value = _remainder$slice2[0];\n            // Recursion will not move past arguments of length 2, so a call of\n            // length 1 is a deliberate assignment to undefined.\n\n\n            if (arguments.length === 1) {\n                return _get(MultiValueMap.prototype.__proto__ || Object.getPrototypeOf(MultiValueMap.prototype), 'get', this).call(this, nextKey).set(VALUE_KEY, undefined);\n\n                // Default case for any key(s)-value assignments\n            } else if (arguments.length === 2) {\n                var isInnerMap = value instanceof MultiValueMap && value.isInnerMap_;\n                var isSpecialKey = nextKey === VALUE_KEY;\n\n                if (isInnerMap || isSpecialKey) {\n                    return _get(MultiValueMap.prototype.__proto__ || Object.getPrototypeOf(MultiValueMap.prototype), 'set', this).call(this, nextKey, value);\n                } else {\n                    return _get(MultiValueMap.prototype.__proto__ || Object.getPrototypeOf(MultiValueMap.prototype), 'get', this).call(this, nextKey).set(VALUE_KEY, value);\n                }\n            } else {\n                var _get$call2;\n\n                return (_get$call2 = _get(MultiValueMap.prototype.__proto__ || Object.getPrototypeOf(MultiValueMap.prototype), 'get', this).call(this, nextKey)).set.apply(_get$call2, _toConsumableArray(remainder));\n            }\n        }\n    }, {\n        key: 'has',\n        value: function has() {\n            var _ref3 = [].concat(Array.prototype.slice.call(arguments)),\n                nextKey = _ref3[0],\n                remainder = _ref3.slice(1);\n\n            if (!arguments.length || !remainder.length && nextKey === VALUE_KEY) {\n                return _get(MultiValueMap.prototype.__proto__ || Object.getPrototypeOf(MultiValueMap.prototype), 'has', this).call(this, VALUE_KEY);\n            } else {\n                var _get$call3;\n\n                return (_get$call3 = _get(MultiValueMap.prototype.__proto__ || Object.getPrototypeOf(MultiValueMap.prototype), 'get', this).call(this, nextKey)).has.apply(_get$call3, _toConsumableArray(remainder));\n            }\n        }\n    }]);\n\n    return MultiValueMap;\n}(_dynamic_default2.default);\n\nexports.default = MultiValueMap;\n\n},{\"./dynamic_default\":5,\"./map_wrapper\":7}],9:[function(require,module,exports){\n'use strict';\n\nvar _module = require('./products/module');\n\nvar _module2 = _interopRequireDefault(_module);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nangular.module('discountAsciiWarehouse', [_module2.default.name]);\n\n},{\"./products/module\":15}],10:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _service = require('./service/service');\n\nvar _service2 = _interopRequireDefault(_service);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ProductGroup = function () {\n    function ProductGroup(products) {\n        _classCallCheck(this, ProductGroup);\n\n        this.products_ = products;\n    }\n\n    _createClass(ProductGroup, [{\n        key: 'getAllProducts',\n        value: function getAllProducts() {\n            return this.products_;\n        }\n    }]);\n\n    return ProductGroup;\n}();\n\nvar Controller = function () {\n    Controller.$inject = ['$scope'];\n\n    /** @ngInject */\n    function Controller($scope) {\n        _classCallCheck(this, Controller);\n\n        this.products_ = [];\n        this.productGroups_ = null;\n        this.ngScope_ = $scope;\n    }\n\n    _createClass(Controller, [{\n        key: '$onInit',\n        value: function $onInit() {\n            var _this = this;\n\n            _service2.default.getProducts({ limit: 100 }).then(function (result) {\n                _this.products_ = _this.products_.concat(result);\n                _this.productGroups_ = null;\n                _this.ngScope_.$digest();\n            });\n        }\n    }, {\n        key: 'getProductGroups',\n        value: function getProductGroups() {\n            if (!this.productGroups_) {\n                var products = [].concat(_toConsumableArray(this.products_));\n                var productGroups = [];\n                while (products.length) {\n                    productGroups.push(new ProductGroup(products.splice(0, 20)));\n                }\n                this.productGroups_ = productGroups;\n            }\n            return this.productGroups_;\n        }\n    }]);\n\n    return Controller;\n}();\n\nexports.default = Controller;\n\n},{\"./service/service\":19}],11:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _service = require('./service');\n\nvar _service2 = _interopRequireDefault(_service);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Controller = function () {\n    function Controller() {\n        _classCallCheck(this, Controller);\n\n        this.advertisement = _service2.default.getAdvertisement();\n    }\n\n    _createClass(Controller, [{\n        key: 'getAdvertisement',\n        value: function getAdvertisement() {\n            return this.advertisement;\n        }\n    }]);\n\n    return Controller;\n}();\n\nexports.default = Controller;\n\n},{\"./service\":13}],12:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _controller = require('./controller');\n\nvar _controller2 = _interopRequireDefault(_controller);\n\nvar _template = require('./template');\n\nvar _template2 = _interopRequireDefault(_template);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _module = angular.module('productInlineAdvertisement', []);\n\n_module.component('productInlineAdvertisement', {\n    template: _template2.default,\n    controller: _controller2.default\n});\n\nexports.default = _module;\n\n},{\"./controller\":11,\"./template\":14}],13:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar previousValue = null;\n\nvar AdvertisementService = function () {\n    function AdvertisementService() {\n        _classCallCheck(this, AdvertisementService);\n    }\n\n    _createClass(AdvertisementService, null, [{\n        key: \"getAdvertisement\",\n        value: function getAdvertisement() {\n            return \"/ad/?r=\" + AdvertisementService.getNextValue_();\n        }\n    }, {\n        key: \"getNextValue_\",\n        value: function getNextValue_() {\n            var generatedValue = Math.floor(Math.random() * 1000);\n            var nextValue = previousValue !== generatedValue ? generatedValue : previousValue + 1;\n            previousValue = nextValue;\n            return nextValue;\n        }\n    }]);\n\n    return AdvertisementService;\n}();\n\nexports.default = AdvertisementService;\n\n},{}],14:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar template = \"\\n<img class=\\\"ad\\\" ng-src=\\\"{{$ctrl.getAdvertisement()}}\\\" />\\n\";\n\nexports.default = template;\n\n},{}],15:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _controller = require('./controller');\n\nvar _controller2 = _interopRequireDefault(_controller);\n\nvar _module2 = require('./inline-advertisement/module');\n\nvar _module3 = _interopRequireDefault(_module2);\n\nvar _module4 = require('./product/module');\n\nvar _module5 = _interopRequireDefault(_module4);\n\nvar _template = require('./template');\n\nvar _template2 = _interopRequireDefault(_template);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _module = angular.module('discountAsciiWarehouseProducts', [_module3.default.name, _module5.default.name]);\n\n_module.component('products', {\n    template: _template2.default,\n    controller: _controller2.default\n});\n\nexports.default = _module;\n\n},{\"./controller\":10,\"./inline-advertisement/module\":12,\"./product/module\":17,\"./template\":20}],16:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Controller = function () {\n    function Controller() {\n        _classCallCheck(this, Controller);\n\n        /** @export */\n        this.product = null;\n    }\n\n    _createClass(Controller, [{\n        key: 'getFace',\n        value: function getFace() {\n            return this.getProduct().face;\n        }\n    }, {\n        key: 'getFaceStyle',\n        value: function getFaceStyle() {\n            return {\n                'font-size': this.getProduct().size + 'px'\n            };\n        }\n    }, {\n        key: 'getProduct',\n        value: function getProduct() {\n            return this.product;\n        }\n    }, {\n        key: 'getSize',\n        value: function getSize() {\n            return this.getProduct().size;\n        }\n    }, {\n        key: 'getPrice',\n        value: function getPrice() {\n            return (this.getProduct().price / 100).toFixed(2);\n        }\n    }, {\n        key: 'getDate',\n        value: function getDate() {\n            return this.getProduct().date;\n        }\n    }]);\n\n    return Controller;\n}();\n\nexports.default = Controller;\n\n},{}],17:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _controller = require('./controller');\n\nvar _controller2 = _interopRequireDefault(_controller);\n\nvar _template = require('./template');\n\nvar _template2 = _interopRequireDefault(_template);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _module = angular.module('product', []);\n\n_module.component('product', {\n    template: _template2.default,\n    controller: _controller2.default,\n    bindings: {\n        product: '='\n    }\n});\n\nexports.default = _module;\n\n},{\"./controller\":16,\"./template\":18}],18:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar template = \"\\n<div class=\\\"product\\\">\\n    <div class=\\\"product__face\\\"\\n        ng-style=\\\"$ctrl.getFaceStyle()\\\"\\n        ng-bind=\\\"$ctrl.getFace()\\\"></div>\\n    <div class=\\\"product__size\\\">\\n        <span class=\\\"product__label\\\">Size:</span>\\n        <span ng-bind=\\\"$ctrl.getSize()\\\"></span>\\n    </div>\\n    <div class=\\\"product__price\\\">\\n        <span class=\\\"product__label\\\">Price:</span>\\n        <span ng-bind=\\\"$ctrl.getPrice()\\\"></span>\\n    </div>\\n    <div class=\\\"product__date\\\">\\n        <span class=\\\"product__label\\\">Date:</span>\\n        <span ng-bind=\\\"$ctrl.getDate()\\\"></span>\\n    </div>\\n</div>\\n\";\n\nexports.default = template;\n\n},{}],19:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _multi_value_map = require('../../handies/structs/maps/multi_value_map');\n\nvar _multi_value_map2 = _interopRequireDefault(_multi_value_map);\n\nvar _dynamic_default_multi_value_map = require('../../handies/structs/maps/dynamic_default_multi_value_map');\n\nvar _dynamic_default_multi_value_map2 = _interopRequireDefault(_dynamic_default_multi_value_map);\n\nvar _index = require('../../../../node_modules/simple-ajax/index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _constants = require('../../constants');\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar cache = new _dynamic_default_multi_value_map2.default(getProductsForCache);\nvar ParamKeys = Object.freeze({\n    LIMIT: 'limit',\n    SKIP: 'skip',\n    SORT: 'sort'\n});\nvar API_ENDPOINT = '/api/products';\n\nfunction getProductsForCache() {\n    var limit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var skip = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var sort = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n    return new Promise(function (resolve, reject) {\n        var request = new _index2.default({\n            url: getFullQueryURL(limit, skip, sort),\n            method: 'GET'\n        });\n        request.on(_constants2.default.SimpleAjax.Event.SUCCESS, function (event) {\n            var rawResponse = event.target.response;\n            var responseLines = rawResponse.split('\\n');\n            var validResponseLines = responseLines.filter(function (line) {\n                return !!line;\n            });\n            var parsedResponseLines = validResponseLines.map(function (responseLine) {\n                return JSON.parse(responseLine);\n            });\n            resolve(parsedResponseLines);\n        });\n        request.on(_constants2.default.SimpleAjax.Event.ERROR, function (event) {\n            reject(event);\n        });\n        request.send();\n    });\n}\n\nfunction getFullQueryURL() {\n    var limit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var skip = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var sort = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n    var queryParams = getQueryParams(limit, skip, sort);\n    if (queryParams) {\n        return API_ENDPOINT + '?' + queryParams;\n    } else {\n        return API_ENDPOINT;\n    }\n}\n\nfunction getQueryParams() {\n    var limit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var skip = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var sort = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n    var params = [[ParamKeys.LIMIT, limit], [ParamKeys.SKIP, skip], [ParamKeys.SORT, sort]];\n    var filteredParams = params.filter(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            key = _ref2[0],\n            value = _ref2[1];\n\n        return !!value;\n    });\n    return filteredParams.map(function (keyValue) {\n        return keyValue.join('=');\n    }).join('&');\n}\n\nvar Service = function () {\n    function Service() {\n        _classCallCheck(this, Service);\n    }\n\n    _createClass(Service, null, [{\n        key: 'getProducts',\n\n        /**\r\n         * @param {?number} limit The maximum number of entries to return, or null\r\n         *     for no limit.\r\n         * @param {?number} skip The number of entries to skip before returning the\r\n         *     result set, or null to start from the beginning.\r\n         * @param {?string} sort The field to sort on, or null to avoid sorting.\r\n         */\n        value: function getProducts() {\n            var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                _ref3$limit = _ref3.limit,\n                limit = _ref3$limit === undefined ? null : _ref3$limit,\n                _ref3$skip = _ref3.skip,\n                skip = _ref3$skip === undefined ? null : _ref3$skip,\n                _ref3$sort = _ref3.sort,\n                sort = _ref3$sort === undefined ? null : _ref3$sort;\n\n            return cache.get(limit, skip, sort);\n        }\n    }]);\n\n    return Service;\n}();\n\nexports.default = Service;\n\n},{\"../../../../node_modules/simple-ajax/index\":3,\"../../constants\":4,\"../../handies/structs/maps/dynamic_default_multi_value_map\":6,\"../../handies/structs/maps/multi_value_map\":8}],20:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar template = \"\\n<div class=\\\"products\\\">\\n    <div class=\\\"product-group\\\"\\n        ng-repeat=\\\"productGroup in $ctrl.getProductGroups()\\\">\\n        <product ng-repeat=\\\"product in productGroup.getAllProducts()\\\"\\n            product=\\\"product\\\">\\n        </product>\\n        <product-inline-advertisement\\n            ng-if=\\\"productGroup.getAllProducts().length >= 20\\\">\\n        </product-inline-advertisement>\\n    </div>\\n</div>\\n<div class=\\\"products-page-progress-indicator\\\"></div>\\n\";\n\nexports.default = template;\n\n},{}]},{},[9])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qcyIsIm5vZGVfbW9kdWxlcy9xdWVyeS1zdHJpbmcvcXVlcnktc3RyaW5nLmpzIiwibm9kZV9tb2R1bGVzL3NpbXBsZS1hamF4L2luZGV4LmpzIiwic3JjXFxqc1xcY29uc3RhbnRzLmpzIiwic3JjXFxqc1xcaGFuZGllc1xcc3RydWN0c1xcbWFwc1xcZHluYW1pY19kZWZhdWx0LmpzIiwic3JjXFxqc1xcaGFuZGllc1xcc3RydWN0c1xcbWFwc1xcZHluYW1pY19kZWZhdWx0X211bHRpX3ZhbHVlX21hcC5qcyIsInNyY1xcanNcXGhhbmRpZXNcXHN0cnVjdHNcXG1hcHNcXG1hcF93cmFwcGVyLmpzIiwic3JjXFxqc1xcaGFuZGllc1xcc3RydWN0c1xcbWFwc1xcbXVsdGlfdmFsdWVfbWFwLmpzIiwic3JjXFxqc1xcbWFpbi5qcyIsInNyY1xcanNcXHByb2R1Y3RzXFxjb250cm9sbGVyLmpzIiwic3JjXFxqc1xccHJvZHVjdHNcXGlubGluZS1hZHZlcnRpc2VtZW50XFxjb250cm9sbGVyLmpzIiwic3JjXFxqc1xccHJvZHVjdHNcXGlubGluZS1hZHZlcnRpc2VtZW50XFxtb2R1bGUuanMiLCJzcmNcXGpzXFxwcm9kdWN0c1xcaW5saW5lLWFkdmVydGlzZW1lbnRcXHNlcnZpY2UuanMiLCJzcmNcXGpzXFxwcm9kdWN0c1xcaW5saW5lLWFkdmVydGlzZW1lbnRcXHRlbXBsYXRlLmpzIiwic3JjXFxqc1xccHJvZHVjdHNcXG1vZHVsZS5qcyIsInNyY1xcanNcXHByb2R1Y3RzXFxwcm9kdWN0XFxjb250cm9sbGVyLmpzIiwic3JjXFxqc1xccHJvZHVjdHNcXHByb2R1Y3RcXG1vZHVsZS5qcyIsInNyY1xcanNcXHByb2R1Y3RzXFxwcm9kdWN0XFx0ZW1wbGF0ZS5qcyIsInNyY1xcanNcXHByb2R1Y3RzXFxzZXJ2aWNlXFxzZXJ2aWNlLmpzIiwic3JjXFxqc1xccHJvZHVjdHNcXHRlbXBsYXRlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztrQkNwSmUsT0FBTyxNQUFQLENBQWM7QUFDekIsbUJBQWU7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SUFBbUIsOEJBQVosSUFBWTs7QUFDOUQsbUJBQU8sTUFBTSxHQUFOLENBQVUsS0FBVixFQUFpQixJQUFqQixFQUF1QixJQUF2QixDQUFQO0FBQ0g7Ozs7OztrQkFHVSxPOzs7Ozs7OztBQ3BFZixJQUFNLDBlQUFOOztrQkFlZSxRIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2V2ZW50cyA9IHRoaXMuX2V2ZW50cyB8fCB7fTtcbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gdGhpcy5fbWF4TGlzdGVuZXJzIHx8IHVuZGVmaW5lZDtcbn1cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxuRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24obikge1xuICBpZiAoIWlzTnVtYmVyKG4pIHx8IG4gPCAwIHx8IGlzTmFOKG4pKVxuICAgIHRocm93IFR5cGVFcnJvcignbiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyJyk7XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIgZXIsIGhhbmRsZXIsIGxlbiwgYXJncywgaSwgbGlzdGVuZXJzO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuXG4gIC8vIElmIHRoZXJlIGlzIG5vICdlcnJvcicgZXZlbnQgbGlzdGVuZXIgdGhlbiB0aHJvdy5cbiAgaWYgKHR5cGUgPT09ICdlcnJvcicpIHtcbiAgICBpZiAoIXRoaXMuX2V2ZW50cy5lcnJvciB8fFxuICAgICAgICAoaXNPYmplY3QodGhpcy5fZXZlbnRzLmVycm9yKSAmJiAhdGhpcy5fZXZlbnRzLmVycm9yLmxlbmd0aCkpIHtcbiAgICAgIGVyID0gYXJndW1lbnRzWzFdO1xuICAgICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgZXI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBBdCBsZWFzdCBnaXZlIHNvbWUga2luZCBvZiBjb250ZXh0IHRvIHRoZSB1c2VyXG4gICAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuY2F1Z2h0LCB1bnNwZWNpZmllZCBcImVycm9yXCIgZXZlbnQuICgnICsgZXIgKyAnKScpO1xuICAgICAgICBlcnIuY29udGV4dCA9IGVyO1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlciA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICBpZiAoaXNVbmRlZmluZWQoaGFuZGxlcikpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG4gICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAvLyBmYXN0IGNhc2VzXG4gICAgICBjYXNlIDE6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyBzbG93ZXJcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgICBoYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc09iamVjdChoYW5kbGVyKSkge1xuICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgIGxpc3RlbmVycyA9IGhhbmRsZXIuc2xpY2UoKTtcbiAgICBsZW4gPSBsaXN0ZW5lcnMubGVuZ3RoO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKylcbiAgICAgIGxpc3RlbmVyc1tpXS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBtO1xuXG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcblxuICAvLyBUbyBhdm9pZCByZWN1cnNpb24gaW4gdGhlIGNhc2UgdGhhdCB0eXBlID09PSBcIm5ld0xpc3RlbmVyXCIhIEJlZm9yZVxuICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gIGlmICh0aGlzLl9ldmVudHMubmV3TGlzdGVuZXIpXG4gICAgdGhpcy5lbWl0KCduZXdMaXN0ZW5lcicsIHR5cGUsXG4gICAgICAgICAgICAgIGlzRnVuY3Rpb24obGlzdGVuZXIubGlzdGVuZXIpID9cbiAgICAgICAgICAgICAgbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gbGlzdGVuZXI7XG4gIGVsc2UgaWYgKGlzT2JqZWN0KHRoaXMuX2V2ZW50c1t0eXBlXSkpXG4gICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5wdXNoKGxpc3RlbmVyKTtcbiAgZWxzZVxuICAgIC8vIEFkZGluZyB0aGUgc2Vjb25kIGVsZW1lbnQsIG5lZWQgdG8gY2hhbmdlIHRvIGFycmF5LlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IFt0aGlzLl9ldmVudHNbdHlwZV0sIGxpc3RlbmVyXTtcblxuICAvLyBDaGVjayBmb3IgbGlzdGVuZXIgbGVha1xuICBpZiAoaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSAmJiAhdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCkge1xuICAgIGlmICghaXNVbmRlZmluZWQodGhpcy5fbWF4TGlzdGVuZXJzKSkge1xuICAgICAgbSA9IHRoaXMuX21heExpc3RlbmVycztcbiAgICB9IGVsc2Uge1xuICAgICAgbSA9IEV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzO1xuICAgIH1cblxuICAgIGlmIChtICYmIG0gPiAwICYmIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGggPiBtKSB7XG4gICAgICB0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkID0gdHJ1ZTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJyhub2RlKSB3YXJuaW5nOiBwb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5ICcgK1xuICAgICAgICAgICAgICAgICAgICAnbGVhayBkZXRlY3RlZC4gJWQgbGlzdGVuZXJzIGFkZGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ1VzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0LicsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGgpO1xuICAgICAgaWYgKHR5cGVvZiBjb25zb2xlLnRyYWNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIG5vdCBzdXBwb3J0ZWQgaW4gSUUgMTBcbiAgICAgICAgY29uc29sZS50cmFjZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICB2YXIgZmlyZWQgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBnKCkge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgZyk7XG5cbiAgICBpZiAoIWZpcmVkKSB7XG4gICAgICBmaXJlZCA9IHRydWU7XG4gICAgICBsaXN0ZW5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfVxuXG4gIGcubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgdGhpcy5vbih0eXBlLCBnKTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIGVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZmYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIGxpc3QsIHBvc2l0aW9uLCBsZW5ndGgsIGk7XG5cbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgcmV0dXJuIHRoaXM7XG5cbiAgbGlzdCA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgbGVuZ3RoID0gbGlzdC5sZW5ndGg7XG4gIHBvc2l0aW9uID0gLTE7XG5cbiAgaWYgKGxpc3QgPT09IGxpc3RlbmVyIHx8XG4gICAgICAoaXNGdW5jdGlvbihsaXN0Lmxpc3RlbmVyKSAmJiBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikpIHtcbiAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIGlmICh0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xuXG4gIH0gZWxzZSBpZiAoaXNPYmplY3QobGlzdCkpIHtcbiAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSA+IDA7KSB7XG4gICAgICBpZiAobGlzdFtpXSA9PT0gbGlzdGVuZXIgfHxcbiAgICAgICAgICAobGlzdFtpXS5saXN0ZW5lciAmJiBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikpIHtcbiAgICAgICAgcG9zaXRpb24gPSBpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpIHtcbiAgICAgIGxpc3QubGVuZ3RoID0gMDtcbiAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpc3Quc3BsaWNlKHBvc2l0aW9uLCAxKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciBrZXksIGxpc3RlbmVycztcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICByZXR1cm4gdGhpcztcblxuICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gIGlmICghdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICB0aGlzLl9ldmVudHMgPSB7fTtcbiAgICBlbHNlIGlmICh0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gZW1pdCByZW1vdmVMaXN0ZW5lciBmb3IgYWxsIGxpc3RlbmVycyBvbiBhbGwgZXZlbnRzXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgZm9yIChrZXkgaW4gdGhpcy5fZXZlbnRzKSB7XG4gICAgICBpZiAoa2V5ID09PSAncmVtb3ZlTGlzdGVuZXInKSBjb250aW51ZTtcbiAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgfVxuICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdyZW1vdmVMaXN0ZW5lcicpO1xuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIGlmIChpc0Z1bmN0aW9uKGxpc3RlbmVycykpIHtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVycyk7XG4gIH0gZWxzZSBpZiAobGlzdGVuZXJzKSB7XG4gICAgLy8gTElGTyBvcmRlclxuICAgIHdoaWxlIChsaXN0ZW5lcnMubGVuZ3RoKVxuICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbbGlzdGVuZXJzLmxlbmd0aCAtIDFdKTtcbiAgfVxuICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciByZXQ7XG4gIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgcmV0ID0gW107XG4gIGVsc2UgaWYgKGlzRnVuY3Rpb24odGhpcy5fZXZlbnRzW3R5cGVdKSlcbiAgICByZXQgPSBbdGhpcy5fZXZlbnRzW3R5cGVdXTtcbiAgZWxzZVxuICAgIHJldCA9IHRoaXMuX2V2ZW50c1t0eXBlXS5zbGljZSgpO1xuICByZXR1cm4gcmV0O1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24odHlwZSkge1xuICBpZiAodGhpcy5fZXZlbnRzKSB7XG4gICAgdmFyIGV2bGlzdGVuZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgICBpZiAoaXNGdW5jdGlvbihldmxpc3RlbmVyKSlcbiAgICAgIHJldHVybiAxO1xuICAgIGVsc2UgaWYgKGV2bGlzdGVuZXIpXG4gICAgICByZXR1cm4gZXZsaXN0ZW5lci5sZW5ndGg7XG4gIH1cbiAgcmV0dXJuIDA7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgcmV0dXJuIGVtaXR0ZXIubGlzdGVuZXJDb3VudCh0eXBlKTtcbn07XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nO1xufVxuXG5mdW5jdGlvbiBpc051bWJlcihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cbiIsIi8qIVxuXHRxdWVyeS1zdHJpbmdcblx0UGFyc2UgYW5kIHN0cmluZ2lmeSBVUkwgcXVlcnkgc3RyaW5nc1xuXHRodHRwczovL2dpdGh1Yi5jb20vc2luZHJlc29yaHVzL3F1ZXJ5LXN0cmluZ1xuXHRieSBTaW5kcmUgU29yaHVzXG5cdE1JVCBMaWNlbnNlXG4qL1xuKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXHR2YXIgcXVlcnlTdHJpbmcgPSB7fTtcblxuXHRxdWVyeVN0cmluZy5wYXJzZSA9IGZ1bmN0aW9uIChzdHIpIHtcblx0XHRpZiAodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycpIHtcblx0XHRcdHJldHVybiB7fTtcblx0XHR9XG5cblx0XHRzdHIgPSBzdHIudHJpbSgpLnJlcGxhY2UoL14oXFw/fCMpLywgJycpO1xuXG5cdFx0aWYgKCFzdHIpIHtcblx0XHRcdHJldHVybiB7fTtcblx0XHR9XG5cblx0XHRyZXR1cm4gc3RyLnRyaW0oKS5zcGxpdCgnJicpLnJlZHVjZShmdW5jdGlvbiAocmV0LCBwYXJhbSkge1xuXHRcdFx0dmFyIHBhcnRzID0gcGFyYW0ucmVwbGFjZSgvXFwrL2csICcgJykuc3BsaXQoJz0nKTtcblx0XHRcdHZhciBrZXkgPSBwYXJ0c1swXTtcblx0XHRcdHZhciB2YWwgPSBwYXJ0c1sxXTtcblxuXHRcdFx0a2V5ID0gZGVjb2RlVVJJQ29tcG9uZW50KGtleSk7XG5cdFx0XHQvLyBtaXNzaW5nIGA9YCBzaG91bGQgYmUgYG51bGxgOlxuXHRcdFx0Ly8gaHR0cDovL3czLm9yZy9UUi8yMDEyL1dELXVybC0yMDEyMDUyNC8jY29sbGVjdC11cmwtcGFyYW1ldGVyc1xuXHRcdFx0dmFsID0gdmFsID09PSB1bmRlZmluZWQgPyBudWxsIDogZGVjb2RlVVJJQ29tcG9uZW50KHZhbCk7XG5cblx0XHRcdGlmICghcmV0Lmhhc093blByb3BlcnR5KGtleSkpIHtcblx0XHRcdFx0cmV0W2tleV0gPSB2YWw7XG5cdFx0XHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocmV0W2tleV0pKSB7XG5cdFx0XHRcdHJldFtrZXldLnB1c2godmFsKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldFtrZXldID0gW3JldFtrZXldLCB2YWxdO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH0sIHt9KTtcblx0fTtcblxuXHRxdWVyeVN0cmluZy5zdHJpbmdpZnkgPSBmdW5jdGlvbiAob2JqKSB7XG5cdFx0cmV0dXJuIG9iaiA/IE9iamVjdC5rZXlzKG9iaikubWFwKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRcdHZhciB2YWwgPSBvYmpba2V5XTtcblxuXHRcdFx0aWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuXHRcdFx0XHRyZXR1cm4gdmFsLm1hcChmdW5jdGlvbiAodmFsMikge1xuXHRcdFx0XHRcdHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoa2V5KSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWwyKTtcblx0XHRcdFx0fSkuam9pbignJicpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsKTtcblx0XHR9KS5qb2luKCcmJykgOiAnJztcblx0fTtcblxuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0ZGVmaW5lKGZ1bmN0aW9uKCkgeyByZXR1cm4gcXVlcnlTdHJpbmc7IH0pO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBxdWVyeVN0cmluZztcblx0fSBlbHNlIHtcblx0XHRzZWxmLnF1ZXJ5U3RyaW5nID0gcXVlcnlTdHJpbmc7XG5cdH1cbn0pKCk7XG4iLCJ2YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyLFxuICAgIHF1ZXJ5U3RyaW5nID0gcmVxdWlyZSgncXVlcnktc3RyaW5nJyk7XG5cbmZ1bmN0aW9uIHRyeVBhcnNlSnNvbihkYXRhKXtcbiAgICB0cnl7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEpO1xuICAgIH1jYXRjaChlcnJvcil7XG4gICAgICAgIHJldHVybiBlcnJvcjtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHRpbWVvdXQoKXtcbiAgIHRoaXMucmVxdWVzdC5hYm9ydCgpO1xuICAgdGhpcy5lbWl0KCd0aW1lb3V0Jyk7XG59XG5cbmZ1bmN0aW9uIEFqYXgoc2V0dGluZ3Mpe1xuICAgIHZhciBxdWVyeVN0cmluZ0RhdGEsXG4gICAgICAgIGFqYXggPSB0aGlzO1xuXG4gICAgaWYodHlwZW9mIHNldHRpbmdzID09PSAnc3RyaW5nJyl7XG4gICAgICAgIHNldHRpbmdzID0ge1xuICAgICAgICAgICAgdXJsOiBzZXR0aW5nc1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGlmKHR5cGVvZiBzZXR0aW5ncyAhPT0gJ29iamVjdCcpe1xuICAgICAgICBzZXR0aW5ncyA9IHt9O1xuICAgIH1cblxuICAgIGFqYXguc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICBhamF4LnJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICBhamF4LnNldHRpbmdzLm1ldGhvZCA9IGFqYXguc2V0dGluZ3MubWV0aG9kIHx8ICdnZXQnO1xuXG4gICAgaWYoYWpheC5zZXR0aW5ncy5jb3JzICYmICEnd2l0aENyZWRlbnRpYWxzJyBpbiBhamF4LnJlcXVlc3Qpe1xuICAgICAgICBpZiAodHlwZW9mIFhEb21haW5SZXF1ZXN0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgLy8gWERvbWFpblJlcXVlc3Qgb25seSBleGlzdHMgaW4gSUUsIGFuZCBpcyBJRSdzIHdheSBvZiBtYWtpbmcgQ09SUyByZXF1ZXN0cy5cbiAgICAgICAgICAgIGFqYXgucmVxdWVzdCA9IG5ldyBYRG9tYWluUmVxdWVzdCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCBDT1JTIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGJyb3dzZXIuXG4gICAgICAgICAgICBhamF4LmVtaXQoJ2Vycm9yJywgbmV3IEVycm9yKCdDb3JzIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBicm93c2VyJykpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYoYWpheC5zZXR0aW5ncy5jYWNoZSA9PT0gZmFsc2Upe1xuICAgICAgICBhamF4LnNldHRpbmdzLmRhdGEgPSBhamF4LnNldHRpbmdzLmRhdGEgfHwge307XG4gICAgICAgIGFqYXguc2V0dGluZ3MuZGF0YS5fID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgfVxuXG4gICAgaWYoYWpheC5zZXR0aW5ncy5tZXRob2QudG9Mb3dlckNhc2UoKSA9PT0gJ2dldCcgJiYgdHlwZW9mIGFqYXguc2V0dGluZ3MuZGF0YSA9PT0gJ29iamVjdCcpe1xuICAgICAgICB2YXIgdXJsUGFydHMgPSBhamF4LnNldHRpbmdzLnVybC5zcGxpdCgnPycpO1xuXG4gICAgICAgIHF1ZXJ5U3RyaW5nRGF0YSA9IHF1ZXJ5U3RyaW5nLnBhcnNlKHVybFBhcnRzWzFdKTtcblxuICAgICAgICBmb3IodmFyIGtleSBpbiBhamF4LnNldHRpbmdzLmRhdGEpe1xuICAgICAgICAgICAgcXVlcnlTdHJpbmdEYXRhW2tleV0gPSBhamF4LnNldHRpbmdzLmRhdGFba2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwYXJzZWRRdWVyeVN0cmluZ0RhdGEgPSBxdWVyeVN0cmluZy5zdHJpbmdpZnkocXVlcnlTdHJpbmdEYXRhKTtcblxuICAgICAgICBhamF4LnNldHRpbmdzLnVybCA9IHVybFBhcnRzWzBdICsgKHBhcnNlZFF1ZXJ5U3RyaW5nRGF0YSA/ICc/JyArIHBhcnNlZFF1ZXJ5U3RyaW5nRGF0YSA6ICcnKTtcbiAgICAgICAgYWpheC5zZXR0aW5ncy5kYXRhID0gbnVsbDtcbiAgICB9XG5cbiAgICBhamF4LnJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBmdW5jdGlvbihldmVudCl7XG4gICAgICAgIGFqYXguZW1pdCgncHJvZ3Jlc3MnLCBldmVudCk7XG4gICAgfSwgZmFsc2UpO1xuXG4gICAgYWpheC5yZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbihldmVudCl7XG4gICAgICAgIHZhciBkYXRhID0gZXZlbnQudGFyZ2V0LnJlc3BvbnNlVGV4dDtcblxuICAgICAgICBpZihhamF4LnNldHRpbmdzLmRhdGFUeXBlICYmIGFqYXguc2V0dGluZ3MuZGF0YVR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ2pzb24nKXtcbiAgICAgICAgICAgIGlmKGRhdGEgPT09ICcnKXtcbiAgICAgICAgICAgICAgICBkYXRhID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgZGF0YSA9IHRyeVBhcnNlSnNvbihkYXRhKTtcbiAgICAgICAgICAgICAgICBpZihkYXRhIGluc3RhbmNlb2YgRXJyb3Ipe1xuICAgICAgICAgICAgICAgICAgICBhamF4LmVtaXQoJ2Vycm9yJywgZXZlbnQsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYoZXZlbnQudGFyZ2V0LnN0YXR1cyA+PSA0MDApe1xuICAgICAgICAgICAgYWpheC5lbWl0KCdlcnJvcicsIGV2ZW50LCBkYXRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFqYXguZW1pdCgnc3VjY2VzcycsIGV2ZW50LCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgfSwgZmFsc2UpO1xuXG4gICAgYWpheC5yZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICBhamF4LmVtaXQoJ2Vycm9yJywgZXZlbnQpO1xuICAgIH0sIGZhbHNlKTtcblxuICAgIGFqYXgucmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgYWpheC5lbWl0KCdlcnJvcicsIGV2ZW50LCBuZXcgRXJyb3IoJ0Nvbm5lY3Rpb24gQWJvcnRlZCcpKTtcbiAgICAgICAgYWpheC5lbWl0KCdhYm9ydCcsIGV2ZW50KTtcbiAgICB9LCBmYWxzZSk7XG5cbiAgICBhamF4LnJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVuZCcsIGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgY2xlYXJUaW1lb3V0KGFqYXguX3JlcXVlc3RUaW1lb3V0KTtcbiAgICAgICAgYWpheC5lbWl0KCdjb21wbGV0ZScsIGV2ZW50KTtcbiAgICB9LCBmYWxzZSk7XG5cbiAgICBhamF4LnJlcXVlc3Qub3BlbihhamF4LnNldHRpbmdzLm1ldGhvZCB8fCAnZ2V0JywgYWpheC5zZXR0aW5ncy51cmwsIHRydWUpO1xuXG4gICAgaWYoYWpheC5zZXR0aW5ncy5jb3JzICYmICd3aXRoQ3JlZGVudGlhbHMnIGluIGFqYXgucmVxdWVzdCkge1xuICAgICAgICBhamF4LnJlcXVlc3Qud2l0aENyZWRlbnRpYWxzID0gISFzZXR0aW5ncy53aXRoQ3JlZGVudGlhbHM7XG4gICAgfVxuXG4gICAgLy8gU2V0IGRlZmF1bHQgaGVhZGVyc1xuICAgIGlmKGFqYXguc2V0dGluZ3MuY29udGVudFR5cGUgIT09IGZhbHNlKXtcbiAgICAgICAgYWpheC5yZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsIGFqYXguc2V0dGluZ3MuY29udGVudFR5cGUgfHwgJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgnKTtcbiAgICB9XG4gICAgaWYoYWpheC5zZXR0aW5ncy5yZXF1ZXN0ZWRXaXRoICE9PSBmYWxzZSkge1xuICAgICAgICBhamF4LnJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcignWC1SZXF1ZXN0ZWQtV2l0aCcsIGFqYXguc2V0dGluZ3MucmVxdWVzdGVkV2l0aCB8fCAnWE1MSHR0cFJlcXVlc3QnKTtcbiAgICB9XG4gICAgaWYoYWpheC5zZXR0aW5ncy5hdXRoKXtcbiAgICAgICAgYWpheC5yZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ0F1dGhvcml6YXRpb24nLCBhamF4LnNldHRpbmdzLmF1dGgpO1xuICAgIH1cblxuICAgIC8vIFNldCBjdXN0b20gaGVhZGVyc1xuICAgIGZvcih2YXIgaGVhZGVyS2V5IGluIGFqYXguc2V0dGluZ3MuaGVhZGVycyl7XG4gICAgICAgIGFqYXgucmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKGhlYWRlcktleSwgYWpheC5zZXR0aW5ncy5oZWFkZXJzW2hlYWRlcktleV0pO1xuICAgIH1cblxuICAgIGlmKGFqYXguc2V0dGluZ3MucHJvY2Vzc0RhdGEgIT09IGZhbHNlICYmIGFqYXguc2V0dGluZ3MuZGF0YVR5cGUgPT09ICdqc29uJyl7XG4gICAgICAgIGFqYXguc2V0dGluZ3MuZGF0YSA9IEpTT04uc3RyaW5naWZ5KGFqYXguc2V0dGluZ3MuZGF0YSk7XG4gICAgfVxufVxuXG5BamF4LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXZlbnRFbWl0dGVyLnByb3RvdHlwZSk7XG5cbkFqYXgucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbigpe1xuICAgIHZhciBhamF4ID0gdGhpcztcblxuICAgIGFqYXguX3JlcXVlc3RUaW1lb3V0ID0gc2V0VGltZW91dChcbiAgICAgICAgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHRpbWVvdXQuYXBwbHkoYWpheCwgW10pO1xuICAgICAgICB9LFxuICAgICAgICBhamF4LnNldHRpbmdzLnRpbWVvdXQgfHwgMTIwMDAwXG4gICAgKTtcblxuICAgIGFqYXgucmVxdWVzdC5zZW5kKGFqYXguc2V0dGluZ3MuZGF0YSAmJiBhamF4LnNldHRpbmdzLmRhdGEpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBBamF4O1xuIiwiZXhwb3J0IGRlZmF1bHQgT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICBSZXF1ZXN0TWV0aG9kOiB7XHJcbiAgICAgICAgR0VUOiAnR0VUJyxcclxuICAgIH0sXHJcbiAgICBTaW1wbGVBamF4OiB7XHJcbiAgICAgICAgRXZlbnQ6IHtcclxuICAgICAgICAgICAgU1VDQ0VTUzogJ3N1Y2Nlc3MnLFxyXG4gICAgICAgICAgICBFUlJPUjogJ2Vycm9yJyxcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pO1xyXG4iLCJpbXBvcnQgTWFwV3JhcHBlciBmcm9tICcuL21hcF93cmFwcGVyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHluYW1pY0RlZmF1bHRNYXAgZXh0ZW5kcyBNYXBXcmFwcGVyIHtcbiAgICBjb25zdHJ1Y3RvcihkZWZhdWx0R2VuZXJhdG9yKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuZGVmYXVsdEdlbmVyYXRvcl8gPSBkZWZhdWx0R2VuZXJhdG9yO1xuICAgIH1cblxuICAgIGdldChrZXkpIHtcbiAgICAgICAgaWYgKHN1cGVyLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gc3VwZXIuZ2V0KGtleSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgZ2VuZXJhdGVkRGVmYXVsdCA9IHRoaXMuZGVmYXVsdEdlbmVyYXRvcl8oa2V5KTtcbiAgICAgICAgICAgIHRoaXMuc2V0KGtleSwgZ2VuZXJhdGVkRGVmYXVsdCk7XG4gICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVkRGVmYXVsdDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCBNdWx0aVZhbHVlTWFwIGZyb20gJy4vbXVsdGlfdmFsdWVfbWFwJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHluYW1pY0RlZmF1bHRNdWx0aVZhbHVlTWFwIGV4dGVuZHMgTXVsdGlWYWx1ZU1hcCB7XG4gICAgY29uc3RydWN0b3IoZGVmYXVsdEdlbmVyYXRvcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmR5bmFtaWNEZWZhdWx0TXVsdGlWYWx1ZU1hcEdlbmVyYXRvcl8gPSBkZWZhdWx0R2VuZXJhdG9yO1xuICAgIH1cblxuICAgIGdldCgpIHtcbiAgICAgICAgY29uc3QgYXJncyA9IFsuLi5hcmd1bWVudHNdO1xuICAgICAgICBpZiAoc3VwZXIuaGFzKC4uLmFyZ3MpKSB7XG4gICAgICAgICAgICByZXR1cm4gc3VwZXIuZ2V0KC4uLmFyZ3MpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZ2VuZXJhdGVkRGVmYXVsdCA9XG4gICAgICAgICAgICAgICAgdGhpcy5keW5hbWljRGVmYXVsdE11bHRpVmFsdWVNYXBHZW5lcmF0b3JfKC4uLmFyZ3MpO1xuICAgICAgICAgICAgdGhpcy5zZXQoLi4uYXJncywgZ2VuZXJhdGVkRGVmYXVsdCk7XG4gICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVkRGVmYXVsdDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImNsYXNzIE1hcFdyYXBwZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm1hcF8gPSBuZXcgTWFwKCk7XG4gICAgfVxuXG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcF8uc2l6ZTtcbiAgICB9XG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwXy5jbGVhci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIGRlbGV0ZShrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwXy5kZWxldGUoa2V5KTtcbiAgICB9XG5cbiAgICBlbnRyaWVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXBfLmVudHJpZXMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICBmb3JFYWNoKGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcF8uZm9yRWFjaChjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgZ2V0KGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXBfLmdldChrZXkpO1xuICAgIH1cblxuICAgIGhhcyhrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwXy5oYXMoa2V5KTtcbiAgICB9XG5cbiAgICBrZXlzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXBfLmtleXMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICBzZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXBfLnNldChrZXksIHZhbHVlKTtcbiAgICB9XG5cbiAgICB2YWx1ZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcF8udmFsdWVzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcF9bU3ltYm9sLml0ZXJhdG9yXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTWFwV3JhcHBlcjtcbiIsImltcG9ydCBEeW5hbWljRGVmYXVsdE1hcCBmcm9tICcuL2R5bmFtaWNfZGVmYXVsdCc7XG5pbXBvcnQgTWFwV3JhcHBlciBmcm9tICcuL21hcF93cmFwcGVyJztcblxuY29uc3QgVkFMVUVfS0VZID0gU3ltYm9sKCdLZXkgZm9yIHZhbHVlcyBpbiBNdWx0aVZhbHVlTWFwJyk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE11bHRpVmFsdWVNYXAgZXh0ZW5kcyBEeW5hbWljRGVmYXVsdE1hcCB7XG4gICAgY29uc3RydWN0b3IoaW5uZXJNYXA9ZmFsc2UpIHtcbiAgICAgICAgc3VwZXIoKCkgPT4gbmV3IE11bHRpVmFsdWVNYXAodHJ1ZSkpO1xuICAgICAgICB0aGlzLmlzSW5uZXJNYXBfID0gaW5uZXJNYXA7XG4gICAgfVxuXG4gICAgZ2V0KCkge1xuICAgICAgICBjb25zdCBbbmV4dEtleSwgLi4ucmVtYWluZGVyXSA9IFsuLi5hcmd1bWVudHNdO1xuICAgICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChzdXBlci5oYXMoVkFMVUVfS0VZKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdXBlci5nZXQoVkFMVUVfS0VZKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5nZXQobmV4dEtleSkuZ2V0KC4uLnJlbWFpbmRlcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXQoKSB7XG4gICAgICAgIGNvbnN0IFtuZXh0S2V5LCAuLi5yZW1haW5kZXJdID0gWy4uLmFyZ3VtZW50c107XG4gICAgICAgIGNvbnN0IFt2YWx1ZV0gPSByZW1haW5kZXIuc2xpY2UoLTEpO1xuICAgICAgICAvLyBSZWN1cnNpb24gd2lsbCBub3QgbW92ZSBwYXN0IGFyZ3VtZW50cyBvZiBsZW5ndGggMiwgc28gYSBjYWxsIG9mXG4gICAgICAgIC8vIGxlbmd0aCAxIGlzIGEgZGVsaWJlcmF0ZSBhc3NpZ25tZW50IHRvIHVuZGVmaW5lZC5cbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5nZXQobmV4dEtleSkuc2V0KFZBTFVFX0tFWSwgdW5kZWZpbmVkKTtcblxuICAgICAgICAvLyBEZWZhdWx0IGNhc2UgZm9yIGFueSBrZXkocyktdmFsdWUgYXNzaWdubWVudHNcbiAgICAgICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICBjb25zdCBpc0lubmVyTWFwID1cbiAgICAgICAgICAgICAgICB2YWx1ZSBpbnN0YW5jZW9mIE11bHRpVmFsdWVNYXAgJiYgdmFsdWUuaXNJbm5lck1hcF87XG4gICAgICAgICAgICBjb25zdCBpc1NwZWNpYWxLZXkgPSBuZXh0S2V5ID09PSBWQUxVRV9LRVk7XG5cbiAgICAgICAgICAgIGlmIChpc0lubmVyTWFwIHx8IGlzU3BlY2lhbEtleSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdXBlci5zZXQobmV4dEtleSwgdmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3VwZXIuZ2V0KG5leHRLZXkpLnNldChWQUxVRV9LRVksIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5nZXQobmV4dEtleSkuc2V0KC4uLnJlbWFpbmRlcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYXMoKSB7XG4gICAgICAgIGNvbnN0IFtuZXh0S2V5LCAuLi5yZW1haW5kZXJdID0gWy4uLmFyZ3VtZW50c107XG4gICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCB8fCAoIXJlbWFpbmRlci5sZW5ndGggJiYgbmV4dEtleSA9PT0gVkFMVUVfS0VZKSkge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmhhcyhWQUxVRV9LRVkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmdldChuZXh0S2V5KS5oYXMoLi4ucmVtYWluZGVyKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCBwcm9kdWN0c01vZHVsZSBmcm9tICcuL3Byb2R1Y3RzL21vZHVsZSc7XHJcblxyXG5hbmd1bGFyLm1vZHVsZSgnZGlzY291bnRBc2NpaVdhcmVob3VzZScsIFtcclxuICAgIHByb2R1Y3RzTW9kdWxlLm5hbWUsXHJcbl0pOyIsImltcG9ydCBQcm9kdWN0c1NlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlL3NlcnZpY2UnO1xyXG5cclxuY2xhc3MgUHJvZHVjdEdyb3VwIHtcclxuICAgIGNvbnN0cnVjdG9yKHByb2R1Y3RzKSB7XHJcbiAgICAgICAgdGhpcy5wcm9kdWN0c18gPSBwcm9kdWN0cztcclxuICAgIH1cclxuXHJcbiAgICBnZXRBbGxQcm9kdWN0cygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wcm9kdWN0c187XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIENvbnRyb2xsZXIge1xyXG4gICAgLyoqIEBuZ0luamVjdCAqL1xyXG4gICAgY29uc3RydWN0b3IoJHNjb3BlKSB7XHJcbiAgICAgICAgdGhpcy5wcm9kdWN0c18gPSBbXTtcclxuICAgICAgICB0aGlzLnByb2R1Y3RHcm91cHNfID0gbnVsbDtcclxuICAgICAgICB0aGlzLm5nU2NvcGVfID0gJHNjb3BlO1xyXG4gICAgfVxyXG5cclxuICAgICRvbkluaXQoKSB7XHJcbiAgICAgICAgUHJvZHVjdHNTZXJ2aWNlLmdldFByb2R1Y3RzKHtsaW1pdDogMTAwfSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvZHVjdHNfID0gdGhpcy5wcm9kdWN0c18uY29uY2F0KHJlc3VsdCk7XHJcbiAgICAgICAgICAgIHRoaXMucHJvZHVjdEdyb3Vwc18gPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLm5nU2NvcGVfLiRkaWdlc3QoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRQcm9kdWN0R3JvdXBzKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5wcm9kdWN0R3JvdXBzXykge1xyXG4gICAgICAgICAgICBjb25zdCBwcm9kdWN0cyA9IFsuLi50aGlzLnByb2R1Y3RzX107XHJcbiAgICAgICAgICAgIGNvbnN0IHByb2R1Y3RHcm91cHMgPSBbXTtcclxuICAgICAgICAgICAgd2hpbGUgKHByb2R1Y3RzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgcHJvZHVjdEdyb3Vwcy5wdXNoKG5ldyBQcm9kdWN0R3JvdXAocHJvZHVjdHMuc3BsaWNlKDAsIDIwKSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucHJvZHVjdEdyb3Vwc18gPSBwcm9kdWN0R3JvdXBzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5wcm9kdWN0R3JvdXBzXztcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ29udHJvbGxlcjtcclxuIiwiaW1wb3J0IEFkdmVydGlzZW1lbnRTZXJ2aWNlIGZyb20gJy4vc2VydmljZSc7XHJcblxyXG5jbGFzcyBDb250cm9sbGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuYWR2ZXJ0aXNlbWVudCA9IEFkdmVydGlzZW1lbnRTZXJ2aWNlLmdldEFkdmVydGlzZW1lbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRBZHZlcnRpc2VtZW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFkdmVydGlzZW1lbnQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENvbnRyb2xsZXI7XHJcbiIsImltcG9ydCBDb250cm9sbGVyIGZyb20gJy4vY29udHJvbGxlcic7XHJcbmltcG9ydCB0ZW1wbGF0ZSBmcm9tICcuL3RlbXBsYXRlJztcclxuXHJcbmNvbnN0IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwcm9kdWN0SW5saW5lQWR2ZXJ0aXNlbWVudCcsIFtdKTtcclxuXHJcbm1vZHVsZS5jb21wb25lbnQoJ3Byb2R1Y3RJbmxpbmVBZHZlcnRpc2VtZW50Jywge1xyXG4gICAgdGVtcGxhdGU6IHRlbXBsYXRlLFxyXG4gICAgY29udHJvbGxlcjogQ29udHJvbGxlcixcclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBtb2R1bGU7XHJcbiIsImxldCBwcmV2aW91c1ZhbHVlID0gbnVsbDtcclxuXHJcbmNsYXNzIEFkdmVydGlzZW1lbnRTZXJ2aWNlIHtcclxuICAgIHN0YXRpYyBnZXRBZHZlcnRpc2VtZW50KCkge1xyXG4gICAgICAgIHJldHVybiBgL2FkLz9yPSR7QWR2ZXJ0aXNlbWVudFNlcnZpY2UuZ2V0TmV4dFZhbHVlXygpfWA7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldE5leHRWYWx1ZV8oKSB7XHJcbiAgICAgICAgY29uc3QgZ2VuZXJhdGVkVmFsdWUgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwKTtcclxuICAgICAgICBjb25zdCBuZXh0VmFsdWUgPSBwcmV2aW91c1ZhbHVlICE9PSBnZW5lcmF0ZWRWYWx1ZSA/XHJcbiAgICAgICAgICAgIGdlbmVyYXRlZFZhbHVlIDogcHJldmlvdXNWYWx1ZSArIDE7XHJcbiAgICAgICAgcHJldmlvdXNWYWx1ZSA9IG5leHRWYWx1ZTtcclxuICAgICAgICByZXR1cm4gbmV4dFZhbHVlXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEFkdmVydGlzZW1lbnRTZXJ2aWNlOyIsImNvbnN0IHRlbXBsYXRlID0gYFxyXG48aW1nIGNsYXNzPVwiYWRcIiBuZy1zcmM9XCJ7eyRjdHJsLmdldEFkdmVydGlzZW1lbnQoKX19XCIgLz5cclxuYDtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHRlbXBsYXRlO1xyXG4iLCJpbXBvcnQgQ29udHJvbGxlciBmcm9tICcuL2NvbnRyb2xsZXInO1xyXG5pbXBvcnQgaW5saW5lQWR2ZXJ0aXNlbWVudE1vZHVsZSBmcm9tICcuL2lubGluZS1hZHZlcnRpc2VtZW50L21vZHVsZSdcclxuaW1wb3J0IHByb2R1Y3RNb2R1bGUgZnJvbSAnLi9wcm9kdWN0L21vZHVsZSdcclxuaW1wb3J0IHRlbXBsYXRlIGZyb20gJy4vdGVtcGxhdGUnO1xyXG5cclxuY29uc3QgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Rpc2NvdW50QXNjaWlXYXJlaG91c2VQcm9kdWN0cycsIFtcclxuICAgIGlubGluZUFkdmVydGlzZW1lbnRNb2R1bGUubmFtZSxcclxuICAgIHByb2R1Y3RNb2R1bGUubmFtZSxcclxuXSk7XHJcblxyXG5tb2R1bGUuY29tcG9uZW50KCdwcm9kdWN0cycsIHtcclxuICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZSxcclxuICAgIGNvbnRyb2xsZXI6IENvbnRyb2xsZXIsXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgbW9kdWxlO1xyXG4iLCJjbGFzcyBDb250cm9sbGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIC8qKiBAZXhwb3J0ICovXHJcbiAgICAgICAgdGhpcy5wcm9kdWN0ID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRGYWNlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFByb2R1Y3QoKS5mYWNlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEZhY2VTdHlsZSgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAnZm9udC1zaXplJzogYCR7dGhpcy5nZXRQcm9kdWN0KCkuc2l6ZX1weGAsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRQcm9kdWN0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnByb2R1Y3Q7XHJcbiAgICB9XHJcbiAgICBnZXRTaXplKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFByb2R1Y3QoKS5zaXplO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFByaWNlKCkge1xyXG4gICAgICAgIHJldHVybiAodGhpcy5nZXRQcm9kdWN0KCkucHJpY2UgLyAxMDApLnRvRml4ZWQoMik7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGF0ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRQcm9kdWN0KCkuZGF0ZTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENvbnRyb2xsZXI7XHJcbiIsImltcG9ydCBDb250cm9sbGVyIGZyb20gJy4vY29udHJvbGxlcic7XHJcbmltcG9ydCB0ZW1wbGF0ZSBmcm9tICcuL3RlbXBsYXRlJztcclxuXHJcbmNvbnN0IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwcm9kdWN0JywgW10pO1xyXG5cclxubW9kdWxlLmNvbXBvbmVudCgncHJvZHVjdCcsIHtcclxuICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZSxcclxuICAgIGNvbnRyb2xsZXI6IENvbnRyb2xsZXIsXHJcbiAgICBiaW5kaW5nczoge1xyXG4gICAgICAgIHByb2R1Y3Q6ICc9JyxcclxuICAgIH0sXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgbW9kdWxlO1xyXG4iLCJjb25zdCB0ZW1wbGF0ZSA9IGBcclxuPGRpdiBjbGFzcz1cInByb2R1Y3RcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJwcm9kdWN0X19mYWNlXCJcclxuICAgICAgICBuZy1zdHlsZT1cIiRjdHJsLmdldEZhY2VTdHlsZSgpXCJcclxuICAgICAgICBuZy1iaW5kPVwiJGN0cmwuZ2V0RmFjZSgpXCI+PC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwicHJvZHVjdF9fc2l6ZVwiPlxyXG4gICAgICAgIDxzcGFuIGNsYXNzPVwicHJvZHVjdF9fbGFiZWxcIj5TaXplOjwvc3Bhbj5cclxuICAgICAgICA8c3BhbiBuZy1iaW5kPVwiJGN0cmwuZ2V0U2l6ZSgpXCI+PC9zcGFuPlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwicHJvZHVjdF9fcHJpY2VcIj5cclxuICAgICAgICA8c3BhbiBjbGFzcz1cInByb2R1Y3RfX2xhYmVsXCI+UHJpY2U6PC9zcGFuPlxyXG4gICAgICAgIDxzcGFuIG5nLWJpbmQ9XCIkY3RybC5nZXRQcmljZSgpXCI+PC9zcGFuPlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwicHJvZHVjdF9fZGF0ZVwiPlxyXG4gICAgICAgIDxzcGFuIGNsYXNzPVwicHJvZHVjdF9fbGFiZWxcIj5EYXRlOjwvc3Bhbj5cclxuICAgICAgICA8c3BhbiBuZy1iaW5kPVwiJGN0cmwuZ2V0RGF0ZSgpXCI+PC9zcGFuPlxyXG4gICAgPC9kaXY+XHJcbjwvZGl2PlxyXG5gO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgdGVtcGxhdGU7XHJcbiIsImltcG9ydCBNdWx0aVZhbHVlTWFwIGZyb20gJy4uLy4uL2hhbmRpZXMvc3RydWN0cy9tYXBzL211bHRpX3ZhbHVlX21hcCc7XHJcbmltcG9ydCBEeW5hbWljRGVmYXVsdE11bHRpVmFsdWVNYXAgZnJvbSAnLi4vLi4vaGFuZGllcy9zdHJ1Y3RzL21hcHMvZHluYW1pY19kZWZhdWx0X211bHRpX3ZhbHVlX21hcCc7XHJcbmltcG9ydCBTaW1wbGVBamF4IGZyb20gJy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zaW1wbGUtYWpheC9pbmRleCc7XHJcbmltcG9ydCBjb25zdGFudHMgZnJvbSAnLi4vLi4vY29uc3RhbnRzJztcclxuXHJcbmNvbnN0IGNhY2hlID0gbmV3IER5bmFtaWNEZWZhdWx0TXVsdGlWYWx1ZU1hcChnZXRQcm9kdWN0c0ZvckNhY2hlKTtcclxuY29uc3QgUGFyYW1LZXlzID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICBMSU1JVDogJ2xpbWl0JyxcclxuICAgIFNLSVA6ICdza2lwJyxcclxuICAgIFNPUlQ6ICdzb3J0JyxcclxufSk7XHJcbmNvbnN0IEFQSV9FTkRQT0lOVCA9ICcvYXBpL3Byb2R1Y3RzJztcclxuXHJcbmZ1bmN0aW9uIGdldFByb2R1Y3RzRm9yQ2FjaGUobGltaXQgPSBudWxsLCBza2lwID0gbnVsbCwgc29ydCA9IG51bGwpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBTaW1wbGVBamF4KHtcclxuICAgICAgICAgICAgdXJsOiBnZXRGdWxsUXVlcnlVUkwobGltaXQsIHNraXAsIHNvcnQpLFxyXG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJlcXVlc3Qub24oY29uc3RhbnRzLlNpbXBsZUFqYXguRXZlbnQuU1VDQ0VTUywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJhd1Jlc3BvbnNlID0gZXZlbnQudGFyZ2V0LnJlc3BvbnNlO1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZUxpbmVzID0gcmF3UmVzcG9uc2Uuc3BsaXQoJ1xcbicpO1xyXG4gICAgICAgICAgICBjb25zdCB2YWxpZFJlc3BvbnNlTGluZXMgPSByZXNwb25zZUxpbmVzLmZpbHRlcigobGluZSkgPT4gISFsaW5lKTtcclxuICAgICAgICAgICAgY29uc3QgcGFyc2VkUmVzcG9uc2VMaW5lcyA9XHJcbiAgICAgICAgICAgICAgICB2YWxpZFJlc3BvbnNlTGluZXMubWFwKChyZXNwb25zZUxpbmUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShyZXNwb25zZUxpbmUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJlc29sdmUocGFyc2VkUmVzcG9uc2VMaW5lcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmVxdWVzdC5vbihjb25zdGFudHMuU2ltcGxlQWpheC5FdmVudC5FUlJPUiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHJlamVjdChldmVudCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmVxdWVzdC5zZW5kKCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0RnVsbFF1ZXJ5VVJMKGxpbWl0ID0gbnVsbCwgc2tpcCA9IG51bGwsIHNvcnQgPSBudWxsKSB7XHJcbiAgICBjb25zdCBxdWVyeVBhcmFtcyA9IGdldFF1ZXJ5UGFyYW1zKGxpbWl0LCBza2lwLCBzb3J0KTtcclxuICAgIGlmIChxdWVyeVBhcmFtcykge1xyXG4gICAgICAgIHJldHVybiBgJHtBUElfRU5EUE9JTlR9PyR7cXVlcnlQYXJhbXN9YDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIEFQSV9FTkRQT0lOVDtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0UXVlcnlQYXJhbXMobGltaXQgPSBudWxsLCBza2lwID0gbnVsbCwgc29ydCA9IG51bGwpIHtcclxuICAgIGNvbnN0IHBhcmFtcyA9IFtcclxuICAgICAgICBbUGFyYW1LZXlzLkxJTUlULCBsaW1pdF0sXHJcbiAgICAgICAgW1BhcmFtS2V5cy5TS0lQLCBza2lwXSxcclxuICAgICAgICBbUGFyYW1LZXlzLlNPUlQsIHNvcnRdLFxyXG4gICAgXTtcclxuICAgIGNvbnN0IGZpbHRlcmVkUGFyYW1zID0gcGFyYW1zLmZpbHRlcigoW2tleSwgdmFsdWVdKSA9PiAhIXZhbHVlKTtcclxuICAgIHJldHVybiBmaWx0ZXJlZFBhcmFtcy5tYXAoKGtleVZhbHVlKSA9PiBrZXlWYWx1ZS5qb2luKCc9JykpLmpvaW4oJyYnKTtcclxufVxyXG5cclxuY2xhc3MgU2VydmljZSB7XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB7P251bWJlcn0gbGltaXQgVGhlIG1heGltdW0gbnVtYmVyIG9mIGVudHJpZXMgdG8gcmV0dXJuLCBvciBudWxsXHJcbiAgICAgKiAgICAgZm9yIG5vIGxpbWl0LlxyXG4gICAgICogQHBhcmFtIHs/bnVtYmVyfSBza2lwIFRoZSBudW1iZXIgb2YgZW50cmllcyB0byBza2lwIGJlZm9yZSByZXR1cm5pbmcgdGhlXHJcbiAgICAgKiAgICAgcmVzdWx0IHNldCwgb3IgbnVsbCB0byBzdGFydCBmcm9tIHRoZSBiZWdpbm5pbmcuXHJcbiAgICAgKiBAcGFyYW0gez9zdHJpbmd9IHNvcnQgVGhlIGZpZWxkIHRvIHNvcnQgb24sIG9yIG51bGwgdG8gYXZvaWQgc29ydGluZy5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGdldFByb2R1Y3RzKHtsaW1pdCA9IG51bGwsIHNraXAgPSBudWxsLCBzb3J0ID0gbnVsbH0gPSB7fSkge1xyXG4gICAgICAgIHJldHVybiBjYWNoZS5nZXQobGltaXQsIHNraXAsIHNvcnQpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTZXJ2aWNlO1xyXG4iLCJjb25zdCB0ZW1wbGF0ZSA9IGBcclxuPGRpdiBjbGFzcz1cInByb2R1Y3RzXCI+XHJcbiAgICA8ZGl2IGNsYXNzPVwicHJvZHVjdC1ncm91cFwiXHJcbiAgICAgICAgbmctcmVwZWF0PVwicHJvZHVjdEdyb3VwIGluICRjdHJsLmdldFByb2R1Y3RHcm91cHMoKVwiPlxyXG4gICAgICAgIDxwcm9kdWN0IG5nLXJlcGVhdD1cInByb2R1Y3QgaW4gcHJvZHVjdEdyb3VwLmdldEFsbFByb2R1Y3RzKClcIlxyXG4gICAgICAgICAgICBwcm9kdWN0PVwicHJvZHVjdFwiPlxyXG4gICAgICAgIDwvcHJvZHVjdD5cclxuICAgICAgICA8cHJvZHVjdC1pbmxpbmUtYWR2ZXJ0aXNlbWVudFxyXG4gICAgICAgICAgICBuZy1pZj1cInByb2R1Y3RHcm91cC5nZXRBbGxQcm9kdWN0cygpLmxlbmd0aCA+PSAyMFwiPlxyXG4gICAgICAgIDwvcHJvZHVjdC1pbmxpbmUtYWR2ZXJ0aXNlbWVudD5cclxuICAgIDwvZGl2PlxyXG48L2Rpdj5cclxuPGRpdiBjbGFzcz1cInByb2R1Y3RzLXBhZ2UtcHJvZ3Jlc3MtaW5kaWNhdG9yXCI+PC9kaXY+XHJcbmA7XHJcblxyXG5leHBvcnQgZGVmYXVsdCB0ZW1wbGF0ZTtcclxuIl19\n"]}